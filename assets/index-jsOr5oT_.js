(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Kc={exports:{}},Ii={},Gc={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),pm=Symbol.for("react.portal"),gm=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),wm=Symbol.for("react.provider"),xm=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),_m=Symbol.for("react.suspense"),bm=Symbol.for("react.memo"),Sm=Symbol.for("react.lazy"),ou=Symbol.iterator;function jm(e){return e===null||typeof e!="object"?null:(e=ou&&e[ou]||e["@@iterator"],typeof e=="function"?e:null)}var Jc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qc=Object.assign,Yc={};function hn(e,t,r){this.props=e,this.context=t,this.refs=Yc,this.updater=r||Jc}hn.prototype.isReactComponent={};hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xc(){}Xc.prototype=hn.prototype;function rl(e,t,r){this.props=e,this.context=t,this.refs=Yc,this.updater=r||Jc}var nl=rl.prototype=new Xc;nl.constructor=rl;Qc(nl,hn.prototype);nl.isPureReactComponent=!0;var lu=Array.isArray,Zc=Object.prototype.hasOwnProperty,sl={current:null},ed={key:!0,ref:!0,__self:!0,__source:!0};function td(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Zc.call(t,n)&&!ed.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ms,type:e,key:i,ref:a,props:s,_owner:sl.current}}function Em(e,t){return{$$typeof:ms,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function il(e){return typeof e=="object"&&e!==null&&e.$$typeof===ms}function Nm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var uu=/\/+/g;function la(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Nm(""+e.key):t.toString(36)}function Gs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ms:case pm:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+la(a,0):n,lu(s)?(r="",e!=null&&(r=e.replace(uu,"$&/")+"/"),Gs(s,t,r,"",function(c){return c})):s!=null&&(il(s)&&(s=Em(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(uu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",lu(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+la(i,o);a+=Gs(i,t,r,l,s)}else if(l=jm(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+la(i,o++),a+=Gs(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Es(e,t,r){if(e==null)return e;var n=[],s=0;return Gs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Cm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},Js={transition:null},Pm={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Js,ReactCurrentOwner:sl};function rd(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Es,forEach:function(e,t,r){Es(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Es(e,function(){t++}),t},toArray:function(e){return Es(e,function(t){return t})||[]},only:function(e){if(!il(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=hn;V.Fragment=gm;V.Profiler=ym;V.PureComponent=rl;V.StrictMode=vm;V.Suspense=_m;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pm;V.act=rd;V.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Qc({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=sl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Zc.call(t,l)&&!ed.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ms,type:e.type,key:s,ref:i,props:n,_owner:a}};V.createContext=function(e){return e={$$typeof:xm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wm,_context:e},e.Consumer=e};V.createElement=td;V.createFactory=function(e){var t=td.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:km,render:e}};V.isValidElement=il;V.lazy=function(e){return{$$typeof:Sm,_payload:{_status:-1,_result:e},_init:Cm}};V.memo=function(e,t){return{$$typeof:bm,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=Js.transition;Js.transition={};try{e()}finally{Js.transition=t}};V.unstable_act=rd;V.useCallback=function(e,t){return Ce.current.useCallback(e,t)};V.useContext=function(e){return Ce.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};V.useEffect=function(e,t){return Ce.current.useEffect(e,t)};V.useId=function(){return Ce.current.useId()};V.useImperativeHandle=function(e,t,r){return Ce.current.useImperativeHandle(e,t,r)};V.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return Ce.current.useMemo(e,t)};V.useReducer=function(e,t,r){return Ce.current.useReducer(e,t,r)};V.useRef=function(e){return Ce.current.useRef(e)};V.useState=function(e){return Ce.current.useState(e)};V.useSyncExternalStore=function(e,t,r){return Ce.current.useSyncExternalStore(e,t,r)};V.useTransition=function(){return Ce.current.useTransition()};V.version="18.3.1";Gc.exports=V;var w=Gc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=w,Rm=Symbol.for("react.element"),Om=Symbol.for("react.fragment"),$m=Object.prototype.hasOwnProperty,Am=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lm={key:!0,ref:!0,__self:!0,__source:!0};function nd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)$m.call(t,n)&&!Lm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Rm,type:e,key:i,ref:a,props:s,_owner:Am.current}}Ii.Fragment=Om;Ii.jsx=nd;Ii.jsxs=nd;Kc.exports=Ii;var u=Kc.exports,sd={exports:{}},Ve={},id={exports:{}},ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,I){var U=T.length;T.push(I);e:for(;0<U;){var J=U-1>>>1,le=T[J];if(0<s(le,I))T[J]=I,T[U]=le,U=J;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var I=T[0],U=T.pop();if(U!==I){T[0]=U;e:for(var J=0,le=T.length,lr=le>>>1;J<lr;){var ht=2*(J+1)-1,Pr=T[ht],ft=ht+1,xt=T[ft];if(0>s(Pr,U))ft<le&&0>s(xt,Pr)?(T[J]=xt,T[ft]=U,J=ft):(T[J]=Pr,T[ht]=U,J=ht);else if(ft<le&&0>s(xt,U))T[J]=xt,T[ft]=U,J=ft;else break e}}return I}function s(T,I){var U=T.sortIndex-I.sortIndex;return U!==0?U:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,v=!1,y=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=T)n(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(c)}}function k(T){if(x=!1,m(T),!y)if(r(l)!==null)y=!0,Te(S);else{var I=r(c);I!==null&&dt(k,I.startTime-T)}}function S(T,I){y=!1,x&&(x=!1,g(P),P=-1),v=!0;var U=f;try{for(m(I),h=r(l);h!==null&&(!(h.expirationTime>I)||T&&!A());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var le=J(h.expirationTime<=I);I=e.unstable_now(),typeof le=="function"?h.callback=le:h===r(l)&&n(l),m(I)}else n(l);h=r(l)}if(h!==null)var lr=!0;else{var ht=r(c);ht!==null&&dt(k,ht.startTime-I),lr=!1}return lr}finally{h=null,f=U,v=!1}}var j=!1,E=null,P=-1,F=5,L=-1;function A(){return!(e.unstable_now()-L<F)}function $(){if(E!==null){var T=e.unstable_now();L=T;var I=!0;try{I=E(!0,T)}finally{I?z():(j=!1,E=null)}}else j=!1}var z;if(typeof p=="function")z=function(){p($)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,G=ie.port2;ie.port1.onmessage=$,z=function(){G.postMessage(null)}}else z=function(){b($,0)};function Te(T){E=T,j||(j=!0,z())}function dt(T,I){P=b(function(){T(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Te(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var U=f;f=I;try{return T()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=f;f=T;try{return I()}finally{f=U}},e.unstable_scheduleCallback=function(T,I,U){var J=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,T){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=U+le,T={id:d++,callback:I,priorityLevel:T,startTime:U,expirationTime:le,sortIndex:-1},U>J?(T.sortIndex=U,t(c,T),r(l)===null&&T===r(c)&&(x?(g(P),P=-1):x=!0,dt(k,U-J))):(T.sortIndex=le,t(l,T),y||v||(y=!0,Te(S))),T},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(T){var I=f;return function(){var U=f;f=I;try{return T.apply(this,arguments)}finally{f=U}}}})(ad);id.exports=ad;var Im=id.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=w,Be=Im;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,qn={};function Er(e,t){nn(e,t),nn(e+"Capture",t)}function nn(e,t){for(qn[e]=t,e=0;e<t.length;e++)od.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qa=Object.prototype.hasOwnProperty,Um=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cu={},du={};function Mm(e){return qa.call(du,e)?!0:qa.call(cu,e)?!1:Um.test(e)?du[e]=!0:(cu[e]=!0,!1)}function Fm(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zm(e,t,r,n){if(t===null||typeof t>"u"||Fm(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pe(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Pe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Pe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Pe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Pe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Pe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Pe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Pe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Pe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Pe(e,5,!1,e.toLowerCase(),null,!1,!1)});var al=/[\-:]([a-z])/g;function ol(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(al,ol);xe[t]=new Pe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(al,ol);xe[t]=new Pe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(al,ol);xe[t]=new Pe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Pe(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Pe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ll(e,t,r,n){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zm(t,r,s,n)&&(r=null),n||s===null?Mm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var At=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),ul=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),ld=Symbol.for("react.provider"),ud=Symbol.for("react.context"),cl=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Ja=Symbol.for("react.suspense_list"),dl=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),cd=Symbol.for("react.offscreen"),hu=Symbol.iterator;function wn(e){return e===null||typeof e!="object"?null:(e=hu&&e[hu]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,ua;function Pn(e){if(ua===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ua=t&&t[1]||""}return`
`+ua+e}var ca=!1;function da(e,t){if(!e||ca)return"";ca=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{ca=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Pn(e):""}function Bm(e){switch(e.tag){case 5:return Pn(e.type);case 16:return Pn("Lazy");case 13:return Pn("Suspense");case 19:return Pn("SuspenseList");case 0:case 2:case 15:return e=da(e.type,!1),e;case 11:return e=da(e.type.render,!1),e;case 1:return e=da(e.type,!0),e;default:return""}}function Qa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case Mr:return"Portal";case Ka:return"Profiler";case ul:return"StrictMode";case Ga:return"Suspense";case Ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ud:return(e.displayName||"Context")+".Consumer";case ld:return(e._context.displayName||"Context")+".Provider";case cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case dl:return t=e.displayName||null,t!==null?t:Qa(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Qa(e(t))}catch{}}return null}function Vm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(t);case 8:return t===ul?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wm(e){var t=dd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cs(e){e._valueTracker||(e._valueTracker=Wm(e))}function hd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function fu(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=tr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fd(e,t){t=t.checked,t!=null&&ll(e,"checked",t,!1)}function Xa(e,t){fd(e,t);var r=tr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Za(e,t.type,r):t.hasOwnProperty("defaultValue")&&Za(e,t.type,tr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mu(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Za(e,t,r){(t!=="number"||li(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Tn=Array.isArray;function Yr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+tr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function eo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(Tn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:tr(r)}}function md(e,t){var r=tr(t.value),n=tr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function to(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ps,gd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ps=Ps||document.createElement("div"),Ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Kn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var An={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hm=["Webkit","ms","Moz","O"];Object.keys(An).forEach(function(e){Hm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),An[t]=An[e]})});function vd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||An.hasOwnProperty(e)&&An[e]?(""+t).trim():t+"px"}function yd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=vd(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var qm=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ro(e,t){if(t){if(qm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function no(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var io=null,Xr=null,Zr=null;function vu(e){if(e=vs(e)){if(typeof io!="function")throw Error(C(280));var t=e.stateNode;t&&(t=zi(t),io(e.stateNode,e.type,t))}}function wd(e){Xr?Zr?Zr.push(e):Zr=[e]:Xr=e}function xd(){if(Xr){var e=Xr,t=Zr;if(Zr=Xr=null,vu(e),t)for(e=0;e<t.length;e++)vu(t[e])}}function kd(e,t){return e(t)}function _d(){}var ha=!1;function bd(e,t,r){if(ha)return e(t,r);ha=!0;try{return kd(e,t,r)}finally{ha=!1,(Xr!==null||Zr!==null)&&(_d(),xd())}}function Gn(e,t){var r=e.stateNode;if(r===null)return null;var n=zi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var ao=!1;if(Pt)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{ao=!1}function Km(e,t,r,n,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Ln=!1,ui=null,ci=!1,oo=null,Gm={onError:function(e){Ln=!0,ui=e}};function Jm(e,t,r,n,s,i,a,o,l){Ln=!1,ui=null,Km.apply(Gm,arguments)}function Qm(e,t,r,n,s,i,a,o,l){if(Jm.apply(this,arguments),Ln){if(Ln){var c=ui;Ln=!1,ui=null}else throw Error(C(198));ci||(ci=!0,oo=c)}}function Nr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Sd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yu(e){if(Nr(e)!==e)throw Error(C(188))}function Ym(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return yu(s),e;if(i===n)return yu(s),t;i=i.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function jd(e){return e=Ym(e),e!==null?Ed(e):null}function Ed(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ed(e);if(t!==null)return t;e=e.sibling}return null}var Nd=Be.unstable_scheduleCallback,wu=Be.unstable_cancelCallback,Xm=Be.unstable_shouldYield,Zm=Be.unstable_requestPaint,ue=Be.unstable_now,ep=Be.unstable_getCurrentPriorityLevel,fl=Be.unstable_ImmediatePriority,Cd=Be.unstable_UserBlockingPriority,di=Be.unstable_NormalPriority,tp=Be.unstable_LowPriority,Pd=Be.unstable_IdlePriority,Di=null,yt=null;function rp(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Di,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:ip,np=Math.log,sp=Math.LN2;function ip(e){return e>>>=0,e===0?32:31-(np(e)/sp|0)|0}var Ts=64,Rs=4194304;function Rn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Rn(o):(i&=a,i!==0&&(n=Rn(i)))}else a=r&~s,a!==0?n=Rn(a):i!==0&&(n=Rn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ot(t),s=1<<r,n|=e[r],t&=~s;return n}function ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function op(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ot(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=ap(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Td(){var e=Ts;return Ts<<=1,!(Ts&4194240)&&(Ts=64),e}function fa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ps(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=r}function lp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ot(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function ml(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var H=0;function Rd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Od,pl,$d,Ad,Ld,uo=!1,Os=[],Kt=null,Gt=null,Jt=null,Jn=new Map,Qn=new Map,Bt=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xu(e,t){switch(e){case"focusin":case"focusout":Kt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qn.delete(t.pointerId)}}function kn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=vs(t),t!==null&&pl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cp(e,t,r,n,s){switch(t){case"focusin":return Kt=kn(Kt,e,t,r,n,s),!0;case"dragenter":return Gt=kn(Gt,e,t,r,n,s),!0;case"mouseover":return Jt=kn(Jt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Jn.set(i,kn(Jn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Qn.set(i,kn(Qn.get(i)||null,e,t,r,n,s)),!0}return!1}function Id(e){var t=pr(e.target);if(t!==null){var r=Nr(t);if(r!==null){if(t=r.tag,t===13){if(t=Sd(r),t!==null){e.blockedOn=t,Ld(e.priority,function(){$d(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);so=n,r.target.dispatchEvent(n),so=null}else return t=vs(r),t!==null&&pl(t),e.blockedOn=r,!1;t.shift()}return!0}function ku(e,t,r){Qs(e)&&r.delete(t)}function dp(){uo=!1,Kt!==null&&Qs(Kt)&&(Kt=null),Gt!==null&&Qs(Gt)&&(Gt=null),Jt!==null&&Qs(Jt)&&(Jt=null),Jn.forEach(ku),Qn.forEach(ku)}function _n(e,t){e.blockedOn===t&&(e.blockedOn=null,uo||(uo=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,dp)))}function Yn(e){function t(s){return _n(s,e)}if(0<Os.length){_n(Os[0],e);for(var r=1;r<Os.length;r++){var n=Os[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kt!==null&&_n(Kt,e),Gt!==null&&_n(Gt,e),Jt!==null&&_n(Jt,e),Jn.forEach(t),Qn.forEach(t),r=0;r<Bt.length;r++)n=Bt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Bt.length&&(r=Bt[0],r.blockedOn===null);)Id(r),r.blockedOn===null&&Bt.shift()}var en=At.ReactCurrentBatchConfig,fi=!0;function hp(e,t,r,n){var s=H,i=en.transition;en.transition=null;try{H=1,gl(e,t,r,n)}finally{H=s,en.transition=i}}function fp(e,t,r,n){var s=H,i=en.transition;en.transition=null;try{H=4,gl(e,t,r,n)}finally{H=s,en.transition=i}}function gl(e,t,r,n){if(fi){var s=co(e,t,r,n);if(s===null)ba(e,t,n,mi,r),xu(e,n);else if(cp(s,e,t,r,n))n.stopPropagation();else if(xu(e,n),t&4&&-1<up.indexOf(e)){for(;s!==null;){var i=vs(s);if(i!==null&&Od(i),i=co(e,t,r,n),i===null&&ba(e,t,n,mi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ba(e,t,n,null,r)}}var mi=null;function co(e,t,r,n){if(mi=null,e=hl(n),e=pr(e),e!==null)if(t=Nr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Sd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mi=e,null}function Dd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case fl:return 1;case Cd:return 4;case di:case tp:return 16;case Pd:return 536870912;default:return 16}default:return 16}}var Ht=null,vl=null,Ys=null;function Ud(){if(Ys)return Ys;var e,t=vl,r=t.length,n,s="value"in Ht?Ht.value:Ht.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ys=s.slice(e,1<n?1-n:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function _u(){return!1}function We(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$s:_u,this.isPropagationStopped=_u,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=We(fn),gs=se({},fn,{view:0,detail:0}),mp=We(gs),ma,pa,bn,Ui=se({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bn&&(bn&&e.type==="mousemove"?(ma=e.screenX-bn.screenX,pa=e.screenY-bn.screenY):pa=ma=0,bn=e),ma)},movementY:function(e){return"movementY"in e?e.movementY:pa}}),bu=We(Ui),pp=se({},Ui,{dataTransfer:0}),gp=We(pp),vp=se({},gs,{relatedTarget:0}),ga=We(vp),yp=se({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),wp=We(yp),xp=se({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kp=We(xp),_p=se({},fn,{data:0}),Su=We(_p),bp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jp[e])?!!t[e]:!1}function wl(){return Ep}var Np=se({},gs,{key:function(e){if(e.key){var t=bp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cp=We(Np),Pp=se({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=We(Pp),Tp=se({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),Rp=We(Tp),Op=se({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=We(Op),Ap=se({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lp=We(Ap),Ip=[9,13,27,32],xl=Pt&&"CompositionEvent"in window,In=null;Pt&&"documentMode"in document&&(In=document.documentMode);var Dp=Pt&&"TextEvent"in window&&!In,Md=Pt&&(!xl||In&&8<In&&11>=In),Eu=" ",Nu=!1;function Fd(e,t){switch(e){case"keyup":return Ip.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zr=!1;function Up(e,t){switch(e){case"compositionend":return zd(t);case"keypress":return t.which!==32?null:(Nu=!0,Eu);case"textInput":return e=t.data,e===Eu&&Nu?null:e;default:return null}}function Mp(e,t){if(zr)return e==="compositionend"||!xl&&Fd(e,t)?(e=Ud(),Ys=vl=Ht=null,zr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Md&&t.locale!=="ko"?null:t.data;default:return null}}var Fp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fp[e.type]:t==="textarea"}function Bd(e,t,r,n){wd(n),t=pi(t,"onChange"),0<t.length&&(r=new yl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Dn=null,Xn=null;function zp(e){Zd(e,0)}function Mi(e){var t=Wr(e);if(hd(t))return e}function Bp(e,t){if(e==="change")return t}var Vd=!1;if(Pt){var va;if(Pt){var ya="oninput"in document;if(!ya){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),ya=typeof Pu.oninput=="function"}va=ya}else va=!1;Vd=va&&(!document.documentMode||9<document.documentMode)}function Tu(){Dn&&(Dn.detachEvent("onpropertychange",Wd),Xn=Dn=null)}function Wd(e){if(e.propertyName==="value"&&Mi(Xn)){var t=[];Bd(t,Xn,e,hl(e)),bd(zp,t)}}function Vp(e,t,r){e==="focusin"?(Tu(),Dn=t,Xn=r,Dn.attachEvent("onpropertychange",Wd)):e==="focusout"&&Tu()}function Wp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mi(Xn)}function Hp(e,t){if(e==="click")return Mi(t)}function qp(e,t){if(e==="input"||e==="change")return Mi(t)}function Kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:Kp;function Zn(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!qa.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function Ru(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ou(e,t){var r=Ru(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ru(r)}}function Hd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Hd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(){for(var e=window,t=li();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=li(e.document)}return t}function kl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gp(e){var t=qd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Hd(r.ownerDocument.documentElement,r)){if(n!==null&&kl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Ou(r,i);var a=Ou(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jp=Pt&&"documentMode"in document&&11>=document.documentMode,Br=null,ho=null,Un=null,fo=!1;function $u(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fo||Br==null||Br!==li(n)||(n=Br,"selectionStart"in n&&kl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&Zn(Un,n)||(Un=n,n=pi(ho,"onSelect"),0<n.length&&(t=new yl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Br)))}function As(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vr={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionend:As("Transition","TransitionEnd")},wa={},Kd={};Pt&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Fi(e){if(wa[e])return wa[e];if(!Vr[e])return e;var t=Vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Kd)return wa[e]=t[r];return e}var Gd=Fi("animationend"),Jd=Fi("animationiteration"),Qd=Fi("animationstart"),Yd=Fi("transitionend"),Xd=new Map,Au="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){Xd.set(e,t),Er(t,[e])}for(var xa=0;xa<Au.length;xa++){var ka=Au[xa],Qp=ka.toLowerCase(),Yp=ka[0].toUpperCase()+ka.slice(1);nr(Qp,"on"+Yp)}nr(Gd,"onAnimationEnd");nr(Jd,"onAnimationIteration");nr(Qd,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(Yd,"onTransitionEnd");nn("onMouseEnter",["mouseout","mouseover"]);nn("onMouseLeave",["mouseout","mouseover"]);nn("onPointerEnter",["pointerout","pointerover"]);nn("onPointerLeave",["pointerout","pointerover"]);Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Er("onBeforeInput",["compositionend","keypress","textInput","paste"]);Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Lu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Qm(n,t,void 0,e),e.currentTarget=null}function Zd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Lu(s,o,c),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Lu(s,o,c),i=l}}}if(ci)throw e=oo,ci=!1,oo=null,e}function X(e,t){var r=t[yo];r===void 0&&(r=t[yo]=new Set);var n=e+"__bubble";r.has(n)||(eh(t,e,2,!1),r.add(n))}function _a(e,t,r){var n=0;t&&(n|=4),eh(r,e,n,t)}var Ls="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[Ls]){e[Ls]=!0,od.forEach(function(r){r!=="selectionchange"&&(Xp.has(r)||_a(r,!1,e),_a(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ls]||(t[Ls]=!0,_a("selectionchange",!1,t))}}function eh(e,t,r,n){switch(Dd(t)){case 1:var s=hp;break;case 4:s=fp;break;default:s=gl}r=s.bind(null,t,r,e),s=void 0,!ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function ba(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=pr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}bd(function(){var c=i,d=hl(r),h=[];e:{var f=Xd.get(e);if(f!==void 0){var v=yl,y=e;switch(e){case"keypress":if(Xs(r)===0)break e;case"keydown":case"keyup":v=Cp;break;case"focusin":y="focus",v=ga;break;case"focusout":y="blur",v=ga;break;case"beforeblur":case"afterblur":v=ga;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Rp;break;case Gd:case Jd:case Qd:v=wp;break;case Yd:v=$p;break;case"scroll":v=mp;break;case"wheel":v=Lp;break;case"copy":case"cut":case"paste":v=kp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ju}var x=(t&4)!==0,b=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=c,m;p!==null;){m=p;var k=m.stateNode;if(m.tag===5&&k!==null&&(m=k,g!==null&&(k=Gn(p,g),k!=null&&x.push(ts(p,k,m)))),b)break;p=p.return}0<x.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",f&&r!==so&&(y=r.relatedTarget||r.fromElement)&&(pr(y)||y[Tt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?pr(y):null,y!==null&&(b=Nr(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(x=bu,k="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=ju,k="onPointerLeave",g="onPointerEnter",p="pointer"),b=v==null?f:Wr(v),m=y==null?f:Wr(y),f=new x(k,p+"leave",v,r,d),f.target=b,f.relatedTarget=m,k=null,pr(d)===c&&(x=new x(g,p+"enter",y,r,d),x.target=m,x.relatedTarget=b,k=x),b=k,v&&y)t:{for(x=v,g=y,p=0,m=x;m;m=Rr(m))p++;for(m=0,k=g;k;k=Rr(k))m++;for(;0<p-m;)x=Rr(x),p--;for(;0<m-p;)g=Rr(g),m--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=Rr(x),g=Rr(g)}x=null}else x=null;v!==null&&Iu(h,f,v,x,!1),y!==null&&b!==null&&Iu(h,b,y,x,!0)}}e:{if(f=c?Wr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var S=Bp;else if(Cu(f))if(Vd)S=qp;else{S=Wp;var j=Vp}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Hp);if(S&&(S=S(e,c))){Bd(h,S,r,d);break e}j&&j(e,f,c),e==="focusout"&&(j=f._wrapperState)&&j.controlled&&f.type==="number"&&Za(f,"number",f.value)}switch(j=c?Wr(c):window,e){case"focusin":(Cu(j)||j.contentEditable==="true")&&(Br=j,ho=c,Un=null);break;case"focusout":Un=ho=Br=null;break;case"mousedown":fo=!0;break;case"contextmenu":case"mouseup":case"dragend":fo=!1,$u(h,r,d);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":$u(h,r,d)}var E;if(xl)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else zr?Fd(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(Md&&r.locale!=="ko"&&(zr||P!=="onCompositionStart"?P==="onCompositionEnd"&&zr&&(E=Ud()):(Ht=d,vl="value"in Ht?Ht.value:Ht.textContent,zr=!0)),j=pi(c,P),0<j.length&&(P=new Su(P,e,null,r,d),h.push({event:P,listeners:j}),E?P.data=E:(E=zd(r),E!==null&&(P.data=E)))),(E=Dp?Up(e,r):Mp(e,r))&&(c=pi(c,"onBeforeInput"),0<c.length&&(d=new Su("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=E))}Zd(h,t)})}function ts(e,t,r){return{instance:e,listener:t,currentTarget:r}}function pi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gn(e,r),i!=null&&n.unshift(ts(e,i,s)),i=Gn(e,t),i!=null&&n.push(ts(e,i,s))),e=e.return}return n}function Rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Iu(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=Gn(r,i),l!=null&&a.unshift(ts(r,l,o))):s||(l=Gn(r,i),l!=null&&a.push(ts(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Zp=/\r\n?/g,eg=/\u0000|\uFFFD/g;function Du(e){return(typeof e=="string"?e:""+e).replace(Zp,`
`).replace(eg,"")}function Is(e,t,r){if(t=Du(t),Du(e)!==t&&r)throw Error(C(425))}function gi(){}var mo=null,po=null;function go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vo=typeof setTimeout=="function"?setTimeout:void 0,tg=typeof clearTimeout=="function"?clearTimeout:void 0,Uu=typeof Promise=="function"?Promise:void 0,rg=typeof queueMicrotask=="function"?queueMicrotask:typeof Uu<"u"?function(e){return Uu.resolve(null).then(e).catch(ng)}:vo;function ng(e){setTimeout(function(){throw e})}function Sa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Yn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Yn(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var mn=Math.random().toString(36).slice(2),vt="__reactFiber$"+mn,rs="__reactProps$"+mn,Tt="__reactContainer$"+mn,yo="__reactEvents$"+mn,sg="__reactListeners$"+mn,ig="__reactHandles$"+mn;function pr(e){var t=e[vt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tt]||r[vt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mu(e);e!==null;){if(r=e[vt])return r;e=Mu(e)}return t}e=r,r=e.parentNode}return null}function vs(e){return e=e[vt]||e[Tt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function zi(e){return e[rs]||null}var wo=[],Hr=-1;function sr(e){return{current:e}}function Z(e){0>Hr||(e.current=wo[Hr],wo[Hr]=null,Hr--)}function Y(e,t){Hr++,wo[Hr]=e.current,e.current=t}var rr={},Se=sr(rr),Le=sr(!1),kr=rr;function sn(e,t){var r=e.type.contextTypes;if(!r)return rr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(e){return e=e.childContextTypes,e!=null}function vi(){Z(Le),Z(Se)}function Fu(e,t,r){if(Se.current!==rr)throw Error(C(168));Y(Se,t),Y(Le,r)}function th(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Vm(e)||"Unknown",s));return se({},r,n)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rr,kr=Se.current,Y(Se,e),Y(Le,Le.current),!0}function zu(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=th(e,t,kr),n.__reactInternalMemoizedMergedChildContext=e,Z(Le),Z(Se),Y(Se,e)):Z(Le),Y(Le,r)}var St=null,Bi=!1,ja=!1;function rh(e){St===null?St=[e]:St.push(e)}function ag(e){Bi=!0,rh(e)}function ir(){if(!ja&&St!==null){ja=!0;var e=0,t=H;try{var r=St;for(H=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}St=null,Bi=!1}catch(s){throw St!==null&&(St=St.slice(e+1)),Nd(fl,ir),s}finally{H=t,ja=!1}}return null}var qr=[],Kr=0,wi=null,xi=0,qe=[],Ke=0,_r=null,jt=1,Et="";function dr(e,t){qr[Kr++]=xi,qr[Kr++]=wi,wi=e,xi=t}function nh(e,t,r){qe[Ke++]=jt,qe[Ke++]=Et,qe[Ke++]=_r,_r=e;var n=jt;e=Et;var s=32-ot(n)-1;n&=~(1<<s),r+=1;var i=32-ot(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,jt=1<<32-ot(t)+s|r<<s|n,Et=i+e}else jt=1<<i|r<<s|n,Et=e}function _l(e){e.return!==null&&(dr(e,1),nh(e,1,0))}function bl(e){for(;e===wi;)wi=qr[--Kr],qr[Kr]=null,xi=qr[--Kr],qr[Kr]=null;for(;e===_r;)_r=qe[--Ke],qe[Ke]=null,Et=qe[--Ke],qe[Ke]=null,jt=qe[--Ke],qe[Ke]=null}var ze=null,Fe=null,ee=!1,at=null;function sh(e,t){var r=Ge(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ze=e,Fe=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ze=e,Fe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_r!==null?{id:jt,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ge(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ze=e,Fe=null,!0):!1;default:return!1}}function xo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ko(e){if(ee){var t=Fe;if(t){var r=t;if(!Bu(e,t)){if(xo(e))throw Error(C(418));t=Qt(r.nextSibling);var n=ze;t&&Bu(e,t)?sh(n,r):(e.flags=e.flags&-4097|2,ee=!1,ze=e)}}else{if(xo(e))throw Error(C(418));e.flags=e.flags&-4097|2,ee=!1,ze=e}}}function Vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ze=e}function Ds(e){if(e!==ze)return!1;if(!ee)return Vu(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!go(e.type,e.memoizedProps)),t&&(t=Fe)){if(xo(e))throw ih(),Error(C(418));for(;t;)sh(e,t),t=Qt(t.nextSibling)}if(Vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Fe=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Fe=null}}else Fe=ze?Qt(e.stateNode.nextSibling):null;return!0}function ih(){for(var e=Fe;e;)e=Qt(e.nextSibling)}function an(){Fe=ze=null,ee=!1}function Sl(e){at===null?at=[e]:at.push(e)}var og=At.ReactCurrentBatchConfig;function Sn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Us(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wu(e){var t=e._init;return t(e._payload)}function ah(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=er(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,m,k){return p===null||p.tag!==6?(p=Oa(m,g.mode,k),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,k){var S=m.type;return S===Fr?d(g,p,m.props.children,k,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&Wu(S)===p.type)?(k=s(p,m.props),k.ref=Sn(g,p,m),k.return=g,k):(k=ii(m.type,m.key,m.props,null,g.mode,k),k.ref=Sn(g,p,m),k.return=g,k)}function c(g,p,m,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=$a(m,g.mode,k),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,k,S){return p===null||p.tag!==7?(p=wr(m,g.mode,k,S),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Oa(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ns:return m=ii(p.type,p.key,p.props,null,g.mode,m),m.ref=Sn(g,null,p),m.return=g,m;case Mr:return p=$a(p,g.mode,m),p.return=g,p;case Ft:var k=p._init;return h(g,k(p._payload),m)}if(Tn(p)||wn(p))return p=wr(p,g.mode,m,null),p.return=g,p;Us(g,p)}return null}function f(g,p,m,k){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:o(g,p,""+m,k);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:return m.key===S?l(g,p,m,k):null;case Mr:return m.key===S?c(g,p,m,k):null;case Ft:return S=m._init,f(g,p,S(m._payload),k)}if(Tn(m)||wn(m))return S!==null?null:d(g,p,m,k,null);Us(g,m)}return null}function v(g,p,m,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return g=g.get(m)||null,o(p,g,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ns:return g=g.get(k.key===null?m:k.key)||null,l(p,g,k,S);case Mr:return g=g.get(k.key===null?m:k.key)||null,c(p,g,k,S);case Ft:var j=k._init;return v(g,p,m,j(k._payload),S)}if(Tn(k)||wn(k))return g=g.get(m)||null,d(p,g,k,S,null);Us(p,k)}return null}function y(g,p,m,k){for(var S=null,j=null,E=p,P=p=0,F=null;E!==null&&P<m.length;P++){E.index>P?(F=E,E=null):F=E.sibling;var L=f(g,E,m[P],k);if(L===null){E===null&&(E=F);break}e&&E&&L.alternate===null&&t(g,E),p=i(L,p,P),j===null?S=L:j.sibling=L,j=L,E=F}if(P===m.length)return r(g,E),ee&&dr(g,P),S;if(E===null){for(;P<m.length;P++)E=h(g,m[P],k),E!==null&&(p=i(E,p,P),j===null?S=E:j.sibling=E,j=E);return ee&&dr(g,P),S}for(E=n(g,E);P<m.length;P++)F=v(E,g,P,m[P],k),F!==null&&(e&&F.alternate!==null&&E.delete(F.key===null?P:F.key),p=i(F,p,P),j===null?S=F:j.sibling=F,j=F);return e&&E.forEach(function(A){return t(g,A)}),ee&&dr(g,P),S}function x(g,p,m,k){var S=wn(m);if(typeof S!="function")throw Error(C(150));if(m=S.call(m),m==null)throw Error(C(151));for(var j=S=null,E=p,P=p=0,F=null,L=m.next();E!==null&&!L.done;P++,L=m.next()){E.index>P?(F=E,E=null):F=E.sibling;var A=f(g,E,L.value,k);if(A===null){E===null&&(E=F);break}e&&E&&A.alternate===null&&t(g,E),p=i(A,p,P),j===null?S=A:j.sibling=A,j=A,E=F}if(L.done)return r(g,E),ee&&dr(g,P),S;if(E===null){for(;!L.done;P++,L=m.next())L=h(g,L.value,k),L!==null&&(p=i(L,p,P),j===null?S=L:j.sibling=L,j=L);return ee&&dr(g,P),S}for(E=n(g,E);!L.done;P++,L=m.next())L=v(E,g,P,L.value,k),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?P:L.key),p=i(L,p,P),j===null?S=L:j.sibling=L,j=L);return e&&E.forEach(function($){return t(g,$)}),ee&&dr(g,P),S}function b(g,p,m,k){if(typeof m=="object"&&m!==null&&m.type===Fr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ns:e:{for(var S=m.key,j=p;j!==null;){if(j.key===S){if(S=m.type,S===Fr){if(j.tag===7){r(g,j.sibling),p=s(j,m.props.children),p.return=g,g=p;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ft&&Wu(S)===j.type){r(g,j.sibling),p=s(j,m.props),p.ref=Sn(g,j,m),p.return=g,g=p;break e}r(g,j);break}else t(g,j);j=j.sibling}m.type===Fr?(p=wr(m.props.children,g.mode,k,m.key),p.return=g,g=p):(k=ii(m.type,m.key,m.props,null,g.mode,k),k.ref=Sn(g,p,m),k.return=g,g=k)}return a(g);case Mr:e:{for(j=m.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=$a(m,g.mode,k),p.return=g,g=p}return a(g);case Ft:return j=m._init,b(g,p,j(m._payload),k)}if(Tn(m))return y(g,p,m,k);if(wn(m))return x(g,p,m,k);Us(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=Oa(m,g.mode,k),p.return=g,g=p),a(g)):r(g,p)}return b}var on=ah(!0),oh=ah(!1),ki=sr(null),_i=null,Gr=null,jl=null;function El(){jl=Gr=_i=null}function Nl(e){var t=ki.current;Z(ki),e._currentValue=t}function _o(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function tn(e,t){_i=e,jl=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ae=!0),e.firstContext=null)}function Ye(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},Gr===null){if(_i===null)throw Error(C(308));Gr=e,_i.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var gr=null;function Cl(e){gr===null?gr=[e]:gr.push(e)}function lh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Cl(t)):(r.next=s.next,s.next=r),t.interleaved=r,Rt(e,n)}function Rt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var zt=!1;function Pl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,W&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Rt(e,r)}return s=n.interleaved,s===null?(t.next=t,Cl(n)):(t.next=s.next,s.next=t),n.interleaved=t,Rt(e,r)}function Zs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}function Hu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bi(e,t,r,n){var s=e.updateQueue;zt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?i=c:a.next=c,a=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;a=0,d=c=l=null,o=i;do{var f=o.lane,v=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,x=o;switch(f=t,v=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=se({},h,f);break e;case 2:zt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else v={eventTime:v,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Sr|=a,e.lanes=a,e.memoizedState=h}}function qu(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var ys={},wt=sr(ys),ns=sr(ys),ss=sr(ys);function vr(e){if(e===ys)throw Error(C(174));return e}function Tl(e,t){switch(Y(ss,t),Y(ns,e),Y(wt,ys),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:to(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=to(t,e)}Z(wt),Y(wt,t)}function ln(){Z(wt),Z(ns),Z(ss)}function ch(e){vr(ss.current);var t=vr(wt.current),r=to(t,e.type);t!==r&&(Y(ns,e),Y(wt,r))}function Rl(e){ns.current===e&&(Z(wt),Z(ns))}var te=sr(0);function Si(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=[];function Ol(){for(var e=0;e<Ea.length;e++)Ea[e]._workInProgressVersionPrimary=null;Ea.length=0}var ei=At.ReactCurrentDispatcher,Na=At.ReactCurrentBatchConfig,br=0,re=null,me=null,ge=null,ji=!1,Mn=!1,is=0,lg=0;function ke(){throw Error(C(321))}function $l(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ut(e[r],t[r]))return!1;return!0}function Al(e,t,r,n,s,i){if(br=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ei.current=e===null||e.memoizedState===null?hg:fg,e=r(n,s),Mn){i=0;do{if(Mn=!1,is=0,25<=i)throw Error(C(301));i+=1,ge=me=null,t.updateQueue=null,ei.current=mg,e=r(n,s)}while(Mn)}if(ei.current=Ei,t=me!==null&&me.next!==null,br=0,ge=me=re=null,ji=!1,t)throw Error(C(300));return e}function Ll(){var e=is!==0;return is=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?re.memoizedState=ge=e:ge=ge.next=e,ge}function Xe(){if(me===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=me.next;var t=ge===null?re.memoizedState:ge.next;if(t!==null)ge=t,me=e;else{if(e===null)throw Error(C(310));me=e,e={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},ge===null?re.memoizedState=ge=e:ge=ge.next=e}return ge}function as(e,t){return typeof t=="function"?t(e):t}function Ca(e){var t=Xe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=me,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,c=i;do{var d=c.lane;if((br&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,re.lanes|=d,Sr|=d}c=c.next}while(c!==null&&c!==i);l===null?a=n:l.next=o,ut(n,t.memoizedState)||(Ae=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,re.lanes|=i,Sr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pa(e){var t=Xe(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);ut(i,t.memoizedState)||(Ae=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function dh(){}function hh(e,t){var r=re,n=Xe(),s=t(),i=!ut(n.memoizedState,s);if(i&&(n.memoizedState=s,Ae=!0),n=n.queue,Il(ph.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,os(9,mh.bind(null,r,n,s,t),void 0,null),ve===null)throw Error(C(349));br&30||fh(r,t,s)}return s}function fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function mh(e,t,r,n){t.value=r,t.getSnapshot=n,gh(t)&&vh(e)}function ph(e,t,r){return r(function(){gh(t)&&vh(e)})}function gh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ut(e,r)}catch{return!0}}function vh(e){var t=Rt(e,1);t!==null&&lt(t,e,1,-1)}function Ku(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},t.queue=e,e=e.dispatch=dg.bind(null,re,e),[t.memoizedState,e]}function os(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=re.updateQueue,t===null?(t={lastEffect:null,stores:null},re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yh(){return Xe().memoizedState}function ti(e,t,r,n){var s=pt();re.flags|=e,s.memoizedState=os(1|t,r,void 0,n===void 0?null:n)}function Vi(e,t,r,n){var s=Xe();n=n===void 0?null:n;var i=void 0;if(me!==null){var a=me.memoizedState;if(i=a.destroy,n!==null&&$l(n,a.deps)){s.memoizedState=os(t,r,i,n);return}}re.flags|=e,s.memoizedState=os(1|t,r,i,n)}function Gu(e,t){return ti(8390656,8,e,t)}function Il(e,t){return Vi(2048,8,e,t)}function wh(e,t){return Vi(4,2,e,t)}function xh(e,t){return Vi(4,4,e,t)}function kh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _h(e,t,r){return r=r!=null?r.concat([e]):null,Vi(4,4,kh.bind(null,t,e),r)}function Dl(){}function bh(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$l(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Sh(e,t){var r=Xe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$l(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jh(e,t,r){return br&21?(ut(r,t)||(r=Td(),re.lanes|=r,Sr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ae=!0),e.memoizedState=r)}function ug(e,t){var r=H;H=r!==0&&4>r?r:4,e(!0);var n=Na.transition;Na.transition={};try{e(!1),t()}finally{H=r,Na.transition=n}}function Eh(){return Xe().memoizedState}function cg(e,t,r){var n=Zt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nh(e))Ch(t,r);else if(r=lh(e,t,r,n),r!==null){var s=Ne();lt(r,e,n,s),Ph(r,t,n)}}function dg(e,t,r){var n=Zt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nh(e))Ch(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,ut(o,a)){var l=t.interleaved;l===null?(s.next=s,Cl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=lh(e,t,s,n),r!==null&&(s=Ne(),lt(r,e,n,s),Ph(r,t,n))}}function Nh(e){var t=e.alternate;return e===re||t!==null&&t===re}function Ch(e,t){Mn=ji=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ph(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ml(e,r)}}var Ei={readContext:Ye,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},hg={readContext:Ye,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:Ye,useEffect:Gu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ti(4194308,4,kh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ti(4194308,4,e,t)},useInsertionEffect:function(e,t){return ti(4,2,e,t)},useMemo:function(e,t){var r=pt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cg.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Ku,useDebugValue:Dl,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Ku(!1),t=e[0];return e=ug.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=re,s=pt();if(ee){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),ve===null)throw Error(C(349));br&30||fh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Gu(ph.bind(null,n,i,e),[e]),n.flags|=2048,os(9,mh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=pt(),t=ve.identifierPrefix;if(ee){var r=Et,n=jt;r=(n&~(1<<32-ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=is++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=lg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fg={readContext:Ye,useCallback:bh,useContext:Ye,useEffect:Il,useImperativeHandle:_h,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:Sh,useReducer:Ca,useRef:yh,useState:function(){return Ca(as)},useDebugValue:Dl,useDeferredValue:function(e){var t=Xe();return jh(t,me.memoizedState,e)},useTransition:function(){var e=Ca(as)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Eh,unstable_isNewReconciler:!1},mg={readContext:Ye,useCallback:bh,useContext:Ye,useEffect:Il,useImperativeHandle:_h,useInsertionEffect:wh,useLayoutEffect:xh,useMemo:Sh,useReducer:Pa,useRef:yh,useState:function(){return Pa(as)},useDebugValue:Dl,useDeferredValue:function(e){var t=Xe();return me===null?t.memoizedState=e:jh(t,me.memoizedState,e)},useTransition:function(){var e=Pa(as)[0],t=Xe().memoizedState;return[e,t]},useMutableSource:dh,useSyncExternalStore:hh,useId:Eh,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Wi={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=Zt(e),i=Nt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(lt(t,e,s,n),Zs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=Zt(e),i=Nt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yt(e,i,s),t!==null&&(lt(t,e,s,n),Zs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ne(),n=Zt(e),s=Nt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,n),t!==null&&(lt(t,e,n,r),Zs(t,e,n))}};function Ju(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Zn(r,n)||!Zn(s,i):!0}function Th(e,t,r){var n=!1,s=rr,i=t.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Ie(t)?kr:Se.current,n=t.contextTypes,i=(n=n!=null)?sn(e,s):rr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Qu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function So(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Pl(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Ie(t)?kr:Se.current,s.context=sn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Wi.enqueueReplaceState(s,s.state,null),bi(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function un(e,t){try{var r="",n=t;do r+=Bm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ta(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pg=typeof WeakMap=="function"?WeakMap:Map;function Rh(e,t,r){r=Nt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ci||(Ci=!0,Lo=n),jo(e,t)},r}function Oh(e,t,r){r=Nt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){jo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){jo(e,t),typeof n!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Yu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Pg.bind(null,e,t,r),t.then(e,e))}function Xu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nt(-1,1),t.tag=2,Yt(r,t,1))),r.lanes|=1),e)}var gg=At.ReactCurrentOwner,Ae=!1;function Ee(e,t,r,n){t.child=e===null?oh(t,null,r,n):on(t,e.child,r,n)}function ec(e,t,r,n,s){r=r.render;var i=t.ref;return tn(t,s),n=Al(e,t,r,n,i,s),r=Ll(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ee&&r&&_l(t),t.flags|=1,Ee(e,t,n,s),t.child)}function tc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Hl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,$h(e,t,i,n,s)):(e=ii(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Zn,r(a,n)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=er(i,n),e.ref=t.ref,e.return=t,t.child=e}function $h(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Zn(i,n)&&e.ref===t.ref)if(Ae=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ae=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return Eo(e,t,r,n,s)}function Ah(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Qr,Me),Me|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(Qr,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(Qr,Me),Me|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Y(Qr,Me),Me|=n;return Ee(e,t,s,r),t.child}function Lh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,r,n,s){var i=Ie(r)?kr:Se.current;return i=sn(t,i),tn(t,s),r=Al(e,t,r,n,i,s),n=Ll(),e!==null&&!Ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ee&&n&&_l(t),t.flags|=1,Ee(e,t,r,s),t.child)}function rc(e,t,r,n,s){if(Ie(r)){var i=!0;yi(t)}else i=!1;if(tn(t,s),t.stateNode===null)ri(e,t),Th(t,r,n),So(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Ie(r)?kr:Se.current,c=sn(t,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Qu(t,a,n,c),zt=!1;var f=t.memoizedState;a.state=f,bi(t,n,a,s),l=t.memoizedState,o!==n||f!==l||Le.current||zt?(typeof d=="function"&&(bo(t,r,d,n),l=t.memoizedState),(o=zt||Ju(t,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,uh(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:nt(t.type,o),a.props=c,h=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ye(l):(l=Ie(r)?kr:Se.current,l=sn(t,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&Qu(t,a,n,l),zt=!1,f=t.memoizedState,a.state=f,bi(t,n,a,s);var y=t.memoizedState;o!==h||f!==y||Le.current||zt?(typeof v=="function"&&(bo(t,r,v,n),y=t.memoizedState),(c=zt||Ju(t,r,c,n,f,y,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return No(e,t,r,n,i,s)}function No(e,t,r,n,s,i){Lh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&zu(t,r,!1),Ot(e,t,i);n=t.stateNode,gg.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=on(t,e.child,null,i),t.child=on(t,null,o,i)):Ee(e,t,o,i),t.memoizedState=n.state,s&&zu(t,r,!0),t.child}function Ih(e){var t=e.stateNode;t.pendingContext?Fu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fu(e,t.context,!1),Tl(e,t.containerInfo)}function nc(e,t,r,n,s){return an(),Sl(s),t.flags|=256,Ee(e,t,r,n),t.child}var Co={dehydrated:null,treeContext:null,retryLane:0};function Po(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dh(e,t,r){var n=t.pendingProps,s=te.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Y(te,s&1),e===null)return ko(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ki(a,n,0,null),e=wr(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Po(r),t.memoizedState=Co,e):Ul(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return vg(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=er(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=er(o,i):(i=wr(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Po(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Co,n}return i=e.child,e=i.sibling,n=er(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Ul(e,t){return t=Ki({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ms(e,t,r,n){return n!==null&&Sl(n),on(t,e.child,null,r),e=Ul(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Ta(Error(C(422))),Ms(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Ki({mode:"visible",children:n.children},s,0,null),i=wr(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&on(t,e.child,null,a),t.child.memoizedState=Po(a),t.memoizedState=Co,i);if(!(t.mode&1))return Ms(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(C(419)),n=Ta(i,n,void 0),Ms(e,t,a,n)}if(o=(a&e.childLanes)!==0,Ae||o){if(n=ve,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(e,s),lt(n,e,s,-1))}return Wl(),n=Ta(Error(C(421))),Ms(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Tg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Fe=Qt(s.nextSibling),ze=t,ee=!0,at=null,e!==null&&(qe[Ke++]=jt,qe[Ke++]=Et,qe[Ke++]=_r,jt=e.id,Et=e.overflow,_r=t),t=Ul(t,n.children),t.flags|=4096,t)}function sc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_o(e.return,t,r)}function Ra(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Uh(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ee(e,t,n.children,r),n=te.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sc(e,r,t);else if(e.tag===19)sc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Y(te,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Si(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ra(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Si(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ra(t,!0,r,null,i);break;case"together":Ra(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=er(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=er(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yg(e,t,r){switch(t.tag){case 3:Ih(t),an();break;case 5:ch(t);break;case 1:Ie(t.type)&&yi(t);break;case 4:Tl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Y(ki,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Y(te,te.current&1),t.flags|=128,null):r&t.child.childLanes?Dh(e,t,r):(Y(te,te.current&1),e=Ot(e,t,r),e!==null?e.sibling:null);Y(te,te.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Uh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(te,te.current),n)break;return null;case 22:case 23:return t.lanes=0,Ah(e,t,r)}return Ot(e,t,r)}var Mh,To,Fh,zh;Mh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};To=function(){};Fh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,vr(wt.current);var i=null;switch(r){case"input":s=Ya(e,s),n=Ya(e,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=eo(e,s),n=eo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=gi)}ro(r,n);var a;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&X("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};zh=function(e,t,r,n){r!==n&&(t.flags|=4)};function jn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function wg(e,t,r){var n=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _e(t),null;case 1:return Ie(t.type)&&vi(),_e(t),null;case 3:return n=t.stateNode,ln(),Z(Le),Z(Se),Ol(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(Uo(at),at=null))),To(e,t),_e(t),null;case 5:Rl(t);var s=vr(ss.current);if(r=t.type,e!==null&&t.stateNode!=null)Fh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return _e(t),null}if(e=vr(wt.current),Ds(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[vt]=t,n[rs]=i,e=(t.mode&1)!==0,r){case"dialog":X("cancel",n),X("close",n);break;case"iframe":case"object":case"embed":X("load",n);break;case"video":case"audio":for(s=0;s<On.length;s++)X(On[s],n);break;case"source":X("error",n);break;case"img":case"image":case"link":X("error",n),X("load",n);break;case"details":X("toggle",n);break;case"input":fu(n,i),X("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},X("invalid",n);break;case"textarea":pu(n,i),X("invalid",n)}ro(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,o,e),s=["children",""+o]):qn.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&X("scroll",n)}switch(r){case"input":Cs(n),mu(n,i,!0);break;case"textarea":Cs(n),gu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=gi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[vt]=t,e[rs]=n,Mh(e,t,!1,!1),t.stateNode=e;e:{switch(a=no(r,n),r){case"dialog":X("cancel",e),X("close",e),s=n;break;case"iframe":case"object":case"embed":X("load",e),s=n;break;case"video":case"audio":for(s=0;s<On.length;s++)X(On[s],e);s=n;break;case"source":X("error",e),s=n;break;case"img":case"image":case"link":X("error",e),X("load",e),s=n;break;case"details":X("toggle",e),s=n;break;case"input":fu(e,n),s=Ya(e,n),X("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),X("invalid",e);break;case"textarea":pu(e,n),s=eo(e,n),X("invalid",e);break;default:s=n}ro(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?yd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gd(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Kn(e,l):typeof l=="number"&&Kn(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&X("scroll",e):l!=null&&ll(e,i,l,a))}switch(r){case"input":Cs(e),mu(e,n,!1);break;case"textarea":Cs(e),gu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+tr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Yr(e,!!n.multiple,i,!1):n.defaultValue!=null&&Yr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _e(t),null;case 6:if(e&&t.stateNode!=null)zh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=vr(ss.current),vr(wt.current),Ds(t)){if(n=t.stateNode,r=t.memoizedProps,n[vt]=t,(i=n.nodeValue!==r)&&(e=ze,e!==null))switch(e.tag){case 3:Is(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Is(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[vt]=t,t.stateNode=n}return _e(t),null;case 13:if(Z(te),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Fe!==null&&t.mode&1&&!(t.flags&128))ih(),an(),t.flags|=98560,i=!1;else if(i=Ds(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[vt]=t}else an(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_e(t),i=!1}else at!==null&&(Uo(at),at=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?pe===0&&(pe=3):Wl())),t.updateQueue!==null&&(t.flags|=4),_e(t),null);case 4:return ln(),To(e,t),e===null&&es(t.stateNode.containerInfo),_e(t),null;case 10:return Nl(t.type._context),_e(t),null;case 17:return Ie(t.type)&&vi(),_e(t),null;case 19:if(Z(te),i=t.memoizedState,i===null)return _e(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)jn(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Si(e),a!==null){for(t.flags|=128,jn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Y(te,te.current&1|2),t.child}e=e.sibling}i.tail!==null&&ue()>cn&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304)}else{if(!n)if(e=Si(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ee)return _e(t),null}else 2*ue()-i.renderingStartTime>cn&&r!==1073741824&&(t.flags|=128,n=!0,jn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ue(),t.sibling=null,r=te.current,Y(te,n?r&1|2:r&1),t):(_e(t),null);case 22:case 23:return Vl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Me&1073741824&&(_e(t),t.subtreeFlags&6&&(t.flags|=8192)):_e(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function xg(e,t){switch(bl(t),t.tag){case 1:return Ie(t.type)&&vi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ln(),Z(Le),Z(Se),Ol(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(Z(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));an()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Z(te),null;case 4:return ln(),null;case 10:return Nl(t.type._context),null;case 22:case 23:return Vl(),null;case 24:return null;default:return null}}var Fs=!1,be=!1,kg=typeof WeakSet=="function"?WeakSet:Set,R=null;function Jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(e,t,n)}else r.current=null}function Ro(e,t,r){try{r()}catch(n){oe(e,t,n)}}var ic=!1;function _g(e,t){if(mo=fi,e=qd(),kl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===e)break t;if(f===r&&++c===s&&(o=a),f===i&&++d===n&&(l=a),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(po={focusedElem:e,selectionRange:r},fi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,b=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:nt(t.type,x),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(k){oe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return y=ic,ic=!1,y}function Fn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ro(t,r,i)}s=s.next}while(s!==n)}}function Hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Oo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bh(e){var t=e.alternate;t!==null&&(e.alternate=null,Bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[rs],delete t[yo],delete t[sg],delete t[ig])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vh(e){return e.tag===5||e.tag===3||e.tag===4}function ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=gi));else if(n!==4&&(e=e.child,e!==null))for($o(e,t,r),e=e.sibling;e!==null;)$o(e,t,r),e=e.sibling}function Ao(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ao(e,t,r),e=e.sibling;e!==null;)Ao(e,t,r),e=e.sibling}var ye=null,st=!1;function Dt(e,t,r){for(r=r.child;r!==null;)Wh(e,t,r),r=r.sibling}function Wh(e,t,r){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Di,r)}catch{}switch(r.tag){case 5:be||Jr(r,t);case 6:var n=ye,s=st;ye=null,Dt(e,t,r),ye=n,st=s,ye!==null&&(st?(e=ye,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ye.removeChild(r.stateNode));break;case 18:ye!==null&&(st?(e=ye,r=r.stateNode,e.nodeType===8?Sa(e.parentNode,r):e.nodeType===1&&Sa(e,r),Yn(e)):Sa(ye,r.stateNode));break;case 4:n=ye,s=st,ye=r.stateNode.containerInfo,st=!0,Dt(e,t,r),ye=n,st=s;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Ro(r,t,a),s=s.next}while(s!==n)}Dt(e,t,r);break;case 1:if(!be&&(Jr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){oe(r,t,o)}Dt(e,t,r);break;case 21:Dt(e,t,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,Dt(e,t,r),be=n):Dt(e,t,r);break;default:Dt(e,t,r)}}function oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kg),t.forEach(function(n){var s=Rg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function et(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ye=o.stateNode,st=!1;break e;case 3:ye=o.stateNode.containerInfo,st=!0;break e;case 4:ye=o.stateNode.containerInfo,st=!0;break e}o=o.return}if(ye===null)throw Error(C(160));Wh(i,a,s),ye=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){oe(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Hh(t,e),t=t.sibling}function Hh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(et(t,e),mt(e),n&4){try{Fn(3,e,e.return),Hi(3,e)}catch(x){oe(e,e.return,x)}try{Fn(5,e,e.return)}catch(x){oe(e,e.return,x)}}break;case 1:et(t,e),mt(e),n&512&&r!==null&&Jr(r,r.return);break;case 5:if(et(t,e),mt(e),n&512&&r!==null&&Jr(r,r.return),e.flags&32){var s=e.stateNode;try{Kn(s,"")}catch(x){oe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&fd(s,i),no(o,a);var c=no(o,i);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?yd(s,h):d==="dangerouslySetInnerHTML"?gd(s,h):d==="children"?Kn(s,h):ll(s,d,h,c)}switch(o){case"input":Xa(s,i);break;case"textarea":md(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Yr(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Yr(s,!!i.multiple,i.defaultValue,!0):Yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[rs]=i}catch(x){oe(e,e.return,x)}}break;case 6:if(et(t,e),mt(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){oe(e,e.return,x)}}break;case 3:if(et(t,e),mt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yn(t.containerInfo)}catch(x){oe(e,e.return,x)}break;case 4:et(t,e),mt(e);break;case 13:et(t,e),mt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(zl=ue())),n&4&&oc(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(be=(c=be)||d,et(t,e),be=c):et(t,e),mt(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(R=e,d=e.child;d!==null;){for(h=R=d;R!==null;){switch(f=R,v=f.child,f.tag){case 0:case 11:case 14:case 15:Fn(4,f,f.return);break;case 1:Jr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(x){oe(n,r,x)}}break;case 5:Jr(f,f.return);break;case 22:if(f.memoizedState!==null){uc(h);continue}}v!==null?(v.return=f,R=v):uc(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=vd("display",a))}catch(x){oe(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){oe(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:et(t,e),mt(e),n&4&&oc(e);break;case 21:break;default:et(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Vh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Kn(s,""),n.flags&=-33);var i=ac(e);Ao(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ac(e);$o(e,o,a);break;default:throw Error(C(161))}}catch(l){oe(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bg(e,t,r){R=e,qh(e)}function qh(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Fs;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||be;o=Fs;var c=be;if(Fs=a,(be=l)&&!c)for(R=s;R!==null;)a=R,l=a.child,a.tag===22&&a.memoizedState!==null?cc(s):l!==null?(l.return=a,R=l):cc(s);for(;i!==null;)R=i,qh(i),i=i.sibling;R=s,Fs=o,be=c}lc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):lc(e)}}function lc(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Hi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!be)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&qu(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qu(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Yn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}be||t.flags&512&&Oo(t)}catch(f){oe(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function uc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function cc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Hi(4,t)}catch(l){oe(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){oe(t,s,l)}}var i=t.return;try{Oo(t)}catch(l){oe(t,i,l)}break;case 5:var a=t.return;try{Oo(t)}catch(l){oe(t,a,l)}}}catch(l){oe(t,t.return,l)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var Sg=Math.ceil,Ni=At.ReactCurrentDispatcher,Ml=At.ReactCurrentOwner,Je=At.ReactCurrentBatchConfig,W=0,ve=null,ce=null,we=0,Me=0,Qr=sr(0),pe=0,ls=null,Sr=0,qi=0,Fl=0,zn=null,Oe=null,zl=0,cn=1/0,_t=null,Ci=!1,Lo=null,Xt=null,zs=!1,qt=null,Pi=0,Bn=0,Io=null,ni=-1,si=0;function Ne(){return W&6?ue():ni!==-1?ni:ni=ue()}function Zt(e){return e.mode&1?W&2&&we!==0?we&-we:og.transition!==null?(si===0&&(si=Td()),si):(e=H,e!==0||(e=window.event,e=e===void 0?16:Dd(e.type)),e):1}function lt(e,t,r,n){if(50<Bn)throw Bn=0,Io=null,Error(C(185));ps(e,r,n),(!(W&2)||e!==ve)&&(e===ve&&(!(W&2)&&(qi|=r),pe===4&&Vt(e,we)),De(e,n),r===1&&W===0&&!(t.mode&1)&&(cn=ue()+500,Bi&&ir()))}function De(e,t){var r=e.callbackNode;op(e,t);var n=hi(e,e===ve?we:0);if(n===0)r!==null&&wu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wu(r),t===1)e.tag===0?ag(dc.bind(null,e)):rh(dc.bind(null,e)),rg(function(){!(W&6)&&ir()}),r=null;else{switch(Rd(n)){case 1:r=fl;break;case 4:r=Cd;break;case 16:r=di;break;case 536870912:r=Pd;break;default:r=di}r=ef(r,Kh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Kh(e,t){if(ni=-1,si=0,W&6)throw Error(C(327));var r=e.callbackNode;if(rn()&&e.callbackNode!==r)return null;var n=hi(e,e===ve?we:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ti(e,n);else{t=n;var s=W;W|=2;var i=Jh();(ve!==e||we!==t)&&(_t=null,cn=ue()+500,yr(e,t));do try{Ng();break}catch(o){Gh(e,o)}while(!0);El(),Ni.current=i,W=s,ce!==null?t=0:(ve=null,we=0,t=pe)}if(t!==0){if(t===2&&(s=lo(e),s!==0&&(n=s,t=Do(e,s))),t===1)throw r=ls,yr(e,0),Vt(e,n),De(e,ue()),r;if(t===6)Vt(e,n);else{if(s=e.current.alternate,!(n&30)&&!jg(s)&&(t=Ti(e,n),t===2&&(i=lo(e),i!==0&&(n=i,t=Do(e,i))),t===1))throw r=ls,yr(e,0),Vt(e,n),De(e,ue()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:hr(e,Oe,_t);break;case 3:if(Vt(e,n),(n&130023424)===n&&(t=zl+500-ue(),10<t)){if(hi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=vo(hr.bind(null,e,Oe,_t),t);break}hr(e,Oe,_t);break;case 4:if(Vt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ot(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sg(n/1960))-n,10<n){e.timeoutHandle=vo(hr.bind(null,e,Oe,_t),n);break}hr(e,Oe,_t);break;case 5:hr(e,Oe,_t);break;default:throw Error(C(329))}}}return De(e,ue()),e.callbackNode===r?Kh.bind(null,e):null}function Do(e,t){var r=zn;return e.current.memoizedState.isDehydrated&&(yr(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=Oe,Oe=r,t!==null&&Uo(t)),e}function Uo(e){Oe===null?Oe=e:Oe.push.apply(Oe,e)}function jg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vt(e,t){for(t&=~Fl,t&=~qi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function dc(e){if(W&6)throw Error(C(327));rn();var t=hi(e,0);if(!(t&1))return De(e,ue()),null;var r=Ti(e,t);if(e.tag!==0&&r===2){var n=lo(e);n!==0&&(t=n,r=Do(e,n))}if(r===1)throw r=ls,yr(e,0),Vt(e,t),De(e,ue()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hr(e,Oe,_t),De(e,ue()),null}function Bl(e,t){var r=W;W|=1;try{return e(t)}finally{W=r,W===0&&(cn=ue()+500,Bi&&ir())}}function jr(e){qt!==null&&qt.tag===0&&!(W&6)&&rn();var t=W;W|=1;var r=Je.transition,n=H;try{if(Je.transition=null,H=1,e)return e()}finally{H=n,Je.transition=r,W=t,!(W&6)&&ir()}}function Vl(){Me=Qr.current,Z(Qr)}function yr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tg(r)),ce!==null)for(r=ce.return;r!==null;){var n=r;switch(bl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vi();break;case 3:ln(),Z(Le),Z(Se),Ol();break;case 5:Rl(n);break;case 4:ln();break;case 13:Z(te);break;case 19:Z(te);break;case 10:Nl(n.type._context);break;case 22:case 23:Vl()}r=r.return}if(ve=e,ce=e=er(e.current,null),we=Me=t,pe=0,ls=null,Fl=qi=Sr=0,Oe=zn=null,gr!==null){for(t=0;t<gr.length;t++)if(r=gr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}gr=null}return e}function Gh(e,t){do{var r=ce;try{if(El(),ei.current=Ei,ji){for(var n=re.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ji=!1}if(br=0,ge=me=re=null,Mn=!1,is=0,Ml.current=null,r===null||r.return===null){pe=1,ls=t,ce=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=we,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Xu(a);if(v!==null){v.flags&=-257,Zu(v,a,o,i,t),v.mode&1&&Yu(i,c,t),t=v,l=c;var y=t.updateQueue;if(y===null){var x=new Set;x.add(l),t.updateQueue=x}else y.add(l);break e}else{if(!(t&1)){Yu(i,c,t),Wl();break e}l=Error(C(426))}}else if(ee&&o.mode&1){var b=Xu(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Zu(b,a,o,i,t),Sl(un(l,o));break e}}i=l=un(l,o),pe!==4&&(pe=2),zn===null?zn=[i]:zn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Rh(i,l,t);Hu(i,g);break e;case 1:o=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xt===null||!Xt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=Oh(i,o,t);Hu(i,k);break e}}i=i.return}while(i!==null)}Yh(r)}catch(S){t=S,ce===r&&r!==null&&(ce=r=r.return);continue}break}while(!0)}function Jh(){var e=Ni.current;return Ni.current=Ei,e===null?Ei:e}function Wl(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(Sr&268435455)&&!(qi&268435455)||Vt(ve,we)}function Ti(e,t){var r=W;W|=2;var n=Jh();(ve!==e||we!==t)&&(_t=null,yr(e,t));do try{Eg();break}catch(s){Gh(e,s)}while(!0);if(El(),W=r,Ni.current=n,ce!==null)throw Error(C(261));return ve=null,we=0,pe}function Eg(){for(;ce!==null;)Qh(ce)}function Ng(){for(;ce!==null&&!Xm();)Qh(ce)}function Qh(e){var t=Zh(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?Yh(e):ce=t,Ml.current=null}function Yh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xg(r,t),r!==null){r.flags&=32767,ce=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,ce=null;return}}else if(r=wg(r,t,Me),r!==null){ce=r;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);pe===0&&(pe=5)}function hr(e,t,r){var n=H,s=Je.transition;try{Je.transition=null,H=1,Cg(e,t,r,n)}finally{Je.transition=s,H=n}return null}function Cg(e,t,r,n){do rn();while(qt!==null);if(W&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(lp(e,i),e===ve&&(ce=ve=null,we=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zs||(zs=!0,ef(di,function(){return rn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var a=H;H=1;var o=W;W|=4,Ml.current=null,_g(e,r),Hh(r,e),Gp(po),fi=!!mo,po=mo=null,e.current=r,bg(r),Zm(),W=o,H=a,Je.transition=i}else e.current=r;if(zs&&(zs=!1,qt=e,Pi=s),i=e.pendingLanes,i===0&&(Xt=null),rp(r.stateNode),De(e,ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ci)throw Ci=!1,e=Lo,Lo=null,e;return Pi&1&&e.tag!==0&&rn(),i=e.pendingLanes,i&1?e===Io?Bn++:(Bn=0,Io=e):Bn=0,ir(),null}function rn(){if(qt!==null){var e=Rd(Pi),t=Je.transition,r=H;try{if(Je.transition=null,H=16>e?16:e,qt===null)var n=!1;else{if(e=qt,qt=null,Pi=0,W&6)throw Error(C(331));var s=W;for(W|=4,R=e.current;R!==null;){var i=R,a=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(R=c;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Fn(8,d,i)}var h=d.child;if(h!==null)h.return=d,R=h;else for(;R!==null;){d=R;var f=d.sibling,v=d.return;if(Bh(d),d===c){R=null;break}if(f!==null){f.return=v,R=f;break}R=v}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}R=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,R=a;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Fn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){a=R;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,R=m;else e:for(a=p;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hi(9,o)}}catch(S){oe(o,o.return,S)}if(o===a){R=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,R=k;break e}R=o.return}}if(W=s,ir(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Di,e)}catch{}n=!0}return n}finally{H=r,Je.transition=t}}return!1}function hc(e,t,r){t=un(r,t),t=Rh(e,t,1),e=Yt(e,t,1),t=Ne(),e!==null&&(ps(e,1,t),De(e,t))}function oe(e,t,r){if(e.tag===3)hc(e,e,r);else for(;t!==null;){if(t.tag===3){hc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xt===null||!Xt.has(n))){e=un(r,e),e=Oh(t,e,1),t=Yt(t,e,1),e=Ne(),t!==null&&(ps(t,1,e),De(t,e));break}}t=t.return}}function Pg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&r,ve===e&&(we&r)===r&&(pe===4||pe===3&&(we&130023424)===we&&500>ue()-zl?yr(e,0):Fl|=r),De(e,t)}function Xh(e,t){t===0&&(e.mode&1?(t=Rs,Rs<<=1,!(Rs&130023424)&&(Rs=4194304)):t=1);var r=Ne();e=Rt(e,t),e!==null&&(ps(e,t,r),De(e,r))}function Tg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Xh(e,r)}function Rg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Xh(e,r)}var Zh;Zh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Le.current)Ae=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ae=!1,yg(e,t,r);Ae=!!(e.flags&131072)}else Ae=!1,ee&&t.flags&1048576&&nh(t,xi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ri(e,t),e=t.pendingProps;var s=sn(t,Se.current);tn(t,r),s=Al(null,t,n,e,s,r);var i=Ll();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(n)?(i=!0,yi(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pl(t),s.updater=Wi,t.stateNode=s,s._reactInternals=t,So(t,n,e,r),t=No(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&_l(t),Ee(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ri(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$g(n),e=nt(n,e),s){case 0:t=Eo(null,t,n,e,r);break e;case 1:t=rc(null,t,n,e,r);break e;case 11:t=ec(null,t,n,e,r);break e;case 14:t=tc(null,t,n,nt(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),Eo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),rc(e,t,n,s,r);case 3:e:{if(Ih(t),e===null)throw Error(C(387));n=t.pendingProps,i=t.memoizedState,s=i.element,uh(e,t),bi(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=un(Error(C(423)),t),t=nc(e,t,n,r,s);break e}else if(n!==s){s=un(Error(C(424)),t),t=nc(e,t,n,r,s);break e}else for(Fe=Qt(t.stateNode.containerInfo.firstChild),ze=t,ee=!0,at=null,r=oh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(an(),n===s){t=Ot(e,t,r);break e}Ee(e,t,n,r)}t=t.child}return t;case 5:return ch(t),e===null&&ko(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,go(n,s)?a=null:i!==null&&go(n,i)&&(t.flags|=32),Lh(e,t),Ee(e,t,a,r),t.child;case 6:return e===null&&ko(t),null;case 13:return Dh(e,t,r);case 4:return Tl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=on(t,null,n,r):Ee(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),ec(e,t,n,s,r);case 7:return Ee(e,t,t.pendingProps,r),t.child;case 8:return Ee(e,t,t.pendingProps.children,r),t.child;case 12:return Ee(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Y(ki,n._currentValue),n._currentValue=a,i!==null)if(ut(i.value,a)){if(i.children===s.children&&!Le.current){t=Ot(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Nt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),_o(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(C(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),_o(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ee(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,tn(t,r),s=Ye(s),n=n(s),t.flags|=1,Ee(e,t,n,r),t.child;case 14:return n=t.type,s=nt(n,t.pendingProps),s=nt(n.type,s),tc(e,t,n,s,r);case 15:return $h(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),ri(e,t),t.tag=1,Ie(n)?(e=!0,yi(t)):e=!1,tn(t,r),Th(t,n,s),So(t,n,s,r),No(null,t,n,!0,e,r);case 19:return Uh(e,t,r);case 22:return Ah(e,t,r)}throw Error(C(156,t.tag))};function ef(e,t){return Nd(e,t)}function Og(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(e,t,r,n){return new Og(e,t,r,n)}function Hl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $g(e){if(typeof e=="function")return Hl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===cl)return 11;if(e===dl)return 14}return 2}function er(e,t){var r=e.alternate;return r===null?(r=Ge(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ii(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Hl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Fr:return wr(r.children,s,i,t);case ul:a=8,s|=8;break;case Ka:return e=Ge(12,r,t,s|2),e.elementType=Ka,e.lanes=i,e;case Ga:return e=Ge(13,r,t,s),e.elementType=Ga,e.lanes=i,e;case Ja:return e=Ge(19,r,t,s),e.elementType=Ja,e.lanes=i,e;case cd:return Ki(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ld:a=10;break e;case ud:a=9;break e;case cl:a=11;break e;case dl:a=14;break e;case Ft:a=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ge(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function wr(e,t,r,n){return e=Ge(7,e,n,t),e.lanes=r,e}function Ki(e,t,r,n){return e=Ge(22,e,n,t),e.elementType=cd,e.lanes=r,e.stateNode={isHidden:!1},e}function Oa(e,t,r){return e=Ge(6,e,null,t),e.lanes=r,e}function $a(e,t,r){return t=Ge(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ag(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fa(0),this.expirationTimes=fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ql(e,t,r,n,s,i,a,o,l){return e=new Ag(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ge(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(i),e}function Lg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tf(e){if(!e)return rr;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Ie(r))return th(e,r,t)}return t}function rf(e,t,r,n,s,i,a,o,l){return e=ql(r,n,!0,e,s,i,a,o,l),e.context=tf(null),r=e.current,n=Ne(),s=Zt(r),i=Nt(n,s),i.callback=t??null,Yt(r,i,s),e.current.lanes=s,ps(e,s,n),De(e,n),e}function Gi(e,t,r,n){var s=t.current,i=Ne(),a=Zt(s);return r=tf(r),t.context===null?t.context=r:t.pendingContext=r,t=Nt(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yt(s,t,a),e!==null&&(lt(e,s,a,i),Zs(e,s,a)),a}function Ri(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function fc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kl(e,t){fc(e,t),(e=e.alternate)&&fc(e,t)}function Ig(){return null}var nf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Gl(e){this._internalRoot=e}Ji.prototype.render=Gl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Gi(e,t,null,null)};Ji.prototype.unmount=Gl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){Gi(null,e,null,null)}),t[Tt]=null}};function Ji(e){this._internalRoot=e}Ji.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Bt.length&&t!==0&&t<Bt[r].priority;r++);Bt.splice(r,0,e),r===0&&Id(e)}};function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mc(){}function Dg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ri(a);i.call(c)}}var a=rf(t,n,e,0,null,!1,!1,"",mc);return e._reactRootContainer=a,e[Tt]=a.current,es(e.nodeType===8?e.parentNode:e),jr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Ri(l);o.call(c)}}var l=ql(e,0,!1,null,null,!1,!1,"",mc);return e._reactRootContainer=l,e[Tt]=l.current,es(e.nodeType===8?e.parentNode:e),jr(function(){Gi(t,l,r,n)}),l}function Yi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Ri(a);o.call(l)}}Gi(t,a,e,s)}else a=Dg(r,t,e,s,n);return Ri(a)}Od=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rn(t.pendingLanes);r!==0&&(ml(t,r|1),De(t,ue()),!(W&6)&&(cn=ue()+500,ir()))}break;case 13:jr(function(){var n=Rt(e,1);if(n!==null){var s=Ne();lt(n,e,1,s)}}),Kl(e,1)}};pl=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var r=Ne();lt(t,e,134217728,r)}Kl(e,134217728)}};$d=function(e){if(e.tag===13){var t=Zt(e),r=Rt(e,t);if(r!==null){var n=Ne();lt(r,e,t,n)}Kl(e,t)}};Ad=function(){return H};Ld=function(e,t){var r=H;try{return H=e,t()}finally{H=r}};io=function(e,t,r){switch(t){case"input":if(Xa(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=zi(n);if(!s)throw Error(C(90));hd(n),Xa(n,s)}}}break;case"textarea":md(e,r);break;case"select":t=r.value,t!=null&&Yr(e,!!r.multiple,t,!1)}};kd=Bl;_d=jr;var Ug={usingClientEntryPoint:!1,Events:[vs,Wr,zi,wd,xd,Bl]},En={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mg={bundleType:En.bundleType,version:En.version,rendererPackageName:En.rendererPackageName,rendererConfig:En.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jd(e),e===null?null:e.stateNode},findFiberByHostInstance:En.findFiberByHostInstance||Ig,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Di=Bs.inject(Mg),yt=Bs}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ug;Ve.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(t))throw Error(C(200));return Lg(e,t,null,r)};Ve.createRoot=function(e,t){if(!Jl(e))throw Error(C(299));var r=!1,n="",s=nf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ql(e,1,!1,null,null,r,!1,n,s),e[Tt]=t.current,es(e.nodeType===8?e.parentNode:e),new Gl(t)};Ve.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=jd(t),e=e===null?null:e.stateNode,e};Ve.flushSync=function(e){return jr(e)};Ve.hydrate=function(e,t,r){if(!Qi(t))throw Error(C(200));return Yi(null,e,t,!0,r)};Ve.hydrateRoot=function(e,t,r){if(!Jl(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=nf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=rf(t,null,e,1,r??null,s,!1,i,a),e[Tt]=t.current,es(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ji(t)};Ve.render=function(e,t,r){if(!Qi(t))throw Error(C(200));return Yi(null,e,t,!1,r)};Ve.unmountComponentAtNode=function(e){if(!Qi(e))throw Error(C(40));return e._reactRootContainer?(jr(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Tt]=null})}),!0):!1};Ve.unstable_batchedUpdates=Bl;Ve.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Qi(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Yi(e,t,r,!1,n)};Ve.version="18.3.1-next-f1338f8080-20240426";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(e){console.error(e)}}sf(),sd.exports=Ve;var Fg=sd.exports,af,pc=Fg;af=pc.createRoot,pc.hydrateRoot;/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gc="popstate";function zg(e={}){function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Mo("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:us(s)}return Vg(t,r,null,e)}function ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ze(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bg(){return Math.random().toString(36).substring(2,10)}function vc(e,t){return{usr:e.state,key:e.key,idx:t}}function Mo(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?pn(t):t,state:r,key:t&&t.key||n||Bg()}}function us({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function pn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Vg(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o="POP",l=null,c=d();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function d(){return(a.state||{idx:null}).idx}function h(){o="POP";let b=d(),g=b==null?null:b-c;c=b,l&&l({action:o,location:x.location,delta:g})}function f(b,g){o="PUSH";let p=Mo(x.location,b,g);c=d()+1;let m=vc(p,c),k=x.createHref(p);try{a.pushState(m,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&l&&l({action:o,location:x.location,delta:1})}function v(b,g){o="REPLACE";let p=Mo(x.location,b,g);c=d();let m=vc(p,c),k=x.createHref(p);a.replaceState(m,"",k),i&&l&&l({action:o,location:x.location,delta:0})}function y(b){return Wg(b)}let x={get action(){return o},get location(){return e(s,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(gc,h),l=b,()=>{s.removeEventListener(gc,h),l=null}},createHref(b){return t(s,b)},createURL:y,encodeLocation(b){let g=y(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(b){return a.go(b)}};return x}function Wg(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ne(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:us(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function of(e,t,r="/"){return Hg(e,t,r,!1)}function Hg(e,t,r,n){let s=typeof t=="string"?pn(t):t,i=$t(s.pathname||"/",r);if(i==null)return null;let a=lf(e);qg(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=n0(i);o=t0(a[l],c,n)}return o}function lf(e,t=[],r=[],n="",s=!1){let i=(a,o,l=s,c)=>{let d={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(n)&&l)return;ne(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length)}let h=Ct([n,d.relativePath]),f=r.concat(d);a.children&&a.children.length>0&&(ne(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),lf(a.children,t,f,h,l)),!(a.path==null&&!a.index)&&t.push({path:h,score:Zg(h,a.index),routesMeta:f})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of uf(a.path))i(a,o,!0,c)}),t}function uf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=uf(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function qg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:e0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Kg=/^:[\w-]+$/,Gg=3,Jg=2,Qg=1,Yg=10,Xg=-2,yc=e=>e==="*";function Zg(e,t){let r=e.split("/"),n=r.length;return r.some(yc)&&(n+=Xg),t&&(n+=Jg),r.filter(s=>!yc(s)).reduce((s,i)=>s+(Kg.test(i)?Gg:i===""?Qg:Yg),n)}function e0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function t0(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Oi({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&r&&!n[n.length-1].route.index&&(h=Oi({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:Ct([i,h.pathname]),pathnameBase:l0(Ct([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Ct([i,h.pathnameBase]))}return a}function Oi(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=r0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((c,{paramName:d,isOptional:h},f)=>{if(d==="*"){let y=o[f]||"";a=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[f];return h&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:a,pattern:e}}function r0(e,t=!1,r=!0){Ze(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function n0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ze(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $t(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i0=e=>s0.test(e);function a0(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?pn(e):e,i;if(r)if(i0(r))i=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Ze(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${r}`)}r.startsWith("/")?i=wc(r.substring(1),"/"):i=wc(r,t)}else i=t;return{pathname:i,search:u0(n),hash:c0(s)}}function wc(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Aa(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function cf(e){let t=o0(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function df(e,t,r,n=!1){let s;typeof e=="string"?s=pn(e):(s={...e},ne(!s.pathname||!s.pathname.includes("?"),Aa("?","pathname","search",s)),ne(!s.pathname||!s.pathname.includes("#"),Aa("#","pathname","hash",s)),ne(!s.search||!s.search.includes("#"),Aa("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let l=a0(s,o),c=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}var Ct=e=>e.join("/").replace(/\/\/+/g,"/"),l0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function d0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function h0(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var hf=["POST","PUT","PATCH","DELETE"];new Set(hf);var f0=["GET",...hf];new Set(f0);var gn=w.createContext(null);gn.displayName="DataRouter";var Xi=w.createContext(null);Xi.displayName="DataRouterState";w.createContext(!1);var ff=w.createContext({isTransitioning:!1});ff.displayName="ViewTransition";var m0=w.createContext(new Map);m0.displayName="Fetchers";var p0=w.createContext(null);p0.displayName="Await";var ct=w.createContext(null);ct.displayName="Navigation";var ws=w.createContext(null);ws.displayName="Location";var Lt=w.createContext({outlet:null,matches:[],isDataRoute:!1});Lt.displayName="Route";var Ql=w.createContext(null);Ql.displayName="RouteError";function g0(e,{relative:t}={}){ne(xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(ct),{hash:s,pathname:i,search:a}=ks(e,{relative:t}),o=i;return r!=="/"&&(o=i==="/"?r:Ct([r,i])),n.createHref({pathname:o,search:a,hash:s})}function xs(){return w.useContext(ws)!=null}function ar(){return ne(xs(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(ws).location}var mf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pf(e){w.useContext(ct).static||w.useLayoutEffect(e)}function It(){let{isDataRoute:e}=w.useContext(Lt);return e?P0():v0()}function v0(){ne(xs(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(gn),{basename:t,navigator:r}=w.useContext(ct),{matches:n}=w.useContext(Lt),{pathname:s}=ar(),i=JSON.stringify(cf(n)),a=w.useRef(!1);return pf(()=>{a.current=!0}),w.useCallback((l,c={})=>{if(Ze(a.current,mf),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=df(l,JSON.parse(i),s,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Ct([t,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[t,r,i,s,e])}w.createContext(null);function ks(e,{relative:t}={}){let{matches:r}=w.useContext(Lt),{pathname:n}=ar(),s=JSON.stringify(cf(r));return w.useMemo(()=>df(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function y0(e,t){return gf(e,t)}function gf(e,t,r,n,s){var p;ne(xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=w.useContext(ct),{matches:a}=w.useContext(Lt),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",d=o?o.pathnameBase:"/",h=o&&o.route;{let m=h&&h.path||"";vf(c,!h||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let f=ar(),v;if(t){let m=typeof t=="string"?pn(t):t;ne(d==="/"||((p=m.pathname)==null?void 0:p.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${m.pathname}" was given in the \`location\` prop.`),v=m}else v=f;let y=v.pathname||"/",x=y;if(d!=="/"){let m=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(m.length).join("/")}let b=of(e,{pathname:x});Ze(h||b!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ze(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=b0(b&&b.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:Ct([d,i.encodeLocation?i.encodeLocation(m.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?d:Ct([d,i.encodeLocation?i.encodeLocation(m.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:m.pathnameBase])})),a,r,n,s);return t&&g?w.createElement(ws.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},g):g}function w0(){let e=C0(),t=d0(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:i},"ErrorBoundary")," or"," ",w.createElement("code",{style:i},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,a)}var x0=w.createElement(w0,null),k0=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Lt.Provider,{value:this.props.routeContext},w.createElement(Ql.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _0({routeContext:e,match:t,children:r}){let n=w.useContext(gn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Lt.Provider,{value:e},r)}function b0(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=r==null?void 0:r.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ne(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,l=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=d),h.route.id){let{loaderData:f,errors:v}=r,y=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}let c=r&&n?(d,h)=>{var f,v;n(d,{location:r.location,params:((v=(f=r.matches)==null?void 0:f[0])==null?void 0:v.params)??{},unstable_pattern:h0(r.matches),errorInfo:h})}:void 0;return i.reduceRight((d,h,f)=>{let v,y=!1,x=null,b=null;r&&(v=a&&h.route.id?a[h.route.id]:void 0,x=h.route.errorElement||x0,o&&(l<0&&f===0?(vf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,b=null):l===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,f+1)),p=()=>{let m;return v?m=x:y?m=b:h.route.Component?m=w.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,w.createElement(_0,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?w.createElement(k0,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:c}):p()},null)}function Yl(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S0(e){let t=w.useContext(gn);return ne(t,Yl(e)),t}function j0(e){let t=w.useContext(Xi);return ne(t,Yl(e)),t}function E0(e){let t=w.useContext(Lt);return ne(t,Yl(e)),t}function Xl(e){let t=E0(e),r=t.matches[t.matches.length-1];return ne(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function N0(){return Xl("useRouteId")}function C0(){var n;let e=w.useContext(Ql),t=j0("useRouteError"),r=Xl("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function P0(){let{router:e}=S0("useNavigate"),t=Xl("useNavigate"),r=w.useRef(!1);return pf(()=>{r.current=!0}),w.useCallback(async(s,i={})=>{Ze(r.current,mf),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var xc={};function vf(e,t,r){!t&&!xc[e]&&(xc[e]=!0,Ze(!1,r))}w.memo(T0);function T0({routes:e,future:t,state:r,unstable_onError:n}){return gf(e,void 0,r,n,t)}function tt(e){ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function R0({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:a}){ne(!xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=w.useMemo(()=>({basename:o,navigator:s,static:i,unstable_useTransitions:a,future:{}}),[o,s,i,a]);typeof r=="string"&&(r=pn(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:v="default"}=r,y=w.useMemo(()=>{let x=$t(c,o);return x==null?null:{location:{pathname:x,search:d,hash:h,state:f,key:v},navigationType:n}},[o,c,d,h,f,v,n]);return Ze(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:w.createElement(ct.Provider,{value:l},w.createElement(ws.Provider,{children:t,value:y}))}function O0({children:e,location:t}){return y0(Fo(e),t)}function Fo(e,t=[]){let r=[];return w.Children.forEach(e,(n,s)=>{if(!w.isValidElement(n))return;let i=[...t,s];if(n.type===w.Fragment){r.push.apply(r,Fo(n.props.children,i));return}ne(n.type===tt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ne(!n.props.index||!n.props.children,"An index route cannot have child routes.");let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Fo(n.props.children,i)),r.push(a)}),r}var ai="get",oi="application/x-www-form-urlencoded";function Zi(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function $0(e){return Zi(e)&&e.tagName.toLowerCase()==="button"}function A0(e){return Zi(e)&&e.tagName.toLowerCase()==="form"}function L0(e){return Zi(e)&&e.tagName.toLowerCase()==="input"}function I0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function D0(e,t){return e.button===0&&(!t||t==="_self")&&!I0(e)}function zo(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function U0(e,t){let r=zo(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}var Vs=null;function M0(){if(Vs===null)try{new FormData(document.createElement("form"),0),Vs=!1}catch{Vs=!0}return Vs}var F0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function La(e){return e!=null&&!F0.has(e)?(Ze(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oi}"`),null):e}function z0(e,t){let r,n,s,i,a;if(A0(e)){let o=e.getAttribute("action");n=o?$t(o,t):null,r=e.getAttribute("method")||ai,s=La(e.getAttribute("enctype"))||oi,i=new FormData(e)}else if($0(e)||L0(e)&&(e.type==="submit"||e.type==="image")){let o=e.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||o.getAttribute("action");if(n=l?$t(l,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||ai,s=La(e.getAttribute("formenctype"))||La(o.getAttribute("enctype"))||oi,i=new FormData(o,e),!M0()){let{name:c,type:d,value:h}=e;if(d==="image"){let f=c?`${c}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else c&&i.append(c,h)}}else{if(Zi(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ai,n=null,s=oi,a=e}return i&&s==="text/plain"&&(a=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zl(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function B0(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&$t(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function V0(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W0(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function H0(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let a=await V0(i,r);return a.links?a.links():[]}return[]}));return J0(n.flat(1).filter(W0).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function kc(e,t,r,n,s,i){let a=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,o=(l,c)=>{var d;return r[c].pathname!==l.pathname||((d=r[c].route.path)==null?void 0:d.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return i==="assets"?t.filter((l,c)=>a(l,c)||o(l,c)):i==="data"?t.filter((l,c)=>{var h;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((h=r[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function q0(e,t,{includeHydrateFallback:r}={}){return K0(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function K0(e){return[...new Set(e)]}function G0(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function J0(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(G0(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function yf(){let e=w.useContext(gn);return Zl(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Q0(){let e=w.useContext(Xi);return Zl(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var eu=w.createContext(void 0);eu.displayName="FrameworkContext";function wf(){let e=w.useContext(eu);return Zl(e,"You must render this element inside a <HydratedRouter> element"),e}function Y0(e,t){let r=w.useContext(eu),[n,s]=w.useState(!1),[i,a]=w.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:d,onTouchStart:h}=t,f=w.useRef(null);w.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=g=>{g.forEach(p=>{a(p.isIntersecting)})},b=new IntersectionObserver(x,{threshold:.5});return f.current&&b.observe(f.current),()=>{b.disconnect()}}},[e]),w.useEffect(()=>{if(n){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[n]);let v=()=>{s(!0)},y=()=>{s(!1),a(!1)};return r?e!=="intent"?[i,f,{}]:[i,f,{onFocus:Nn(o,v),onBlur:Nn(l,y),onMouseEnter:Nn(c,v),onMouseLeave:Nn(d,y),onTouchStart:Nn(h,v)}]:[!1,f,{}]}function Nn(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function X0({page:e,...t}){let{router:r}=yf(),n=w.useMemo(()=>of(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement(ev,{page:e,matches:n,...t}):null}function Z0(e){let{manifest:t,routeModules:r}=wf(),[n,s]=w.useState([]);return w.useEffect(()=>{let i=!1;return H0(e,t,r).then(a=>{i||s(a)}),()=>{i=!0}},[e,t,r]),n}function ev({page:e,matches:t,...r}){let n=ar(),{manifest:s,routeModules:i}=wf(),{basename:a}=yf(),{loaderData:o,matches:l}=Q0(),c=w.useMemo(()=>kc(e,t,l,s,n,"data"),[e,t,l,s,n]),d=w.useMemo(()=>kc(e,t,l,s,n,"assets"),[e,t,l,s,n]),h=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,x=!1;if(t.forEach(g=>{var m;let p=s.routes[g.route.id];!p||!p.hasLoader||(!c.some(k=>k.route.id===g.route.id)&&g.route.id in o&&((m=i[g.route.id])!=null&&m.shouldRevalidate)||p.hasClientLoader?x=!0:y.add(g.route.id))}),y.size===0)return[];let b=B0(e,a,"data");return x&&y.size>0&&b.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[b.pathname+b.search]},[a,o,n,s,c,t,e,i]),f=w.useMemo(()=>q0(d,s),[d,s]),v=Z0(d);return w.createElement(w.Fragment,null,h.map(y=>w.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),f.map(y=>w.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),v.map(({key:y,link:x})=>w.createElement("link",{key:y,nonce:r.nonce,...x})))}function tv(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var xf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xf&&(window.__reactRouterVersion="7.10.1")}catch{}function rv({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=w.useRef();s.current==null&&(s.current=zg({window:n,v5Compat:!0}));let i=s.current,[a,o]=w.useState({action:i.action,location:i.location}),l=w.useCallback(c=>{r===!1?o(c):w.startTransition(()=>o(c))},[r]);return w.useLayoutEffect(()=>i.listen(l),[i,l]),w.createElement(R0,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:i,unstable_useTransitions:r===!0})}var kf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xr=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h,...f},v){let{basename:y,unstable_useTransitions:x}=w.useContext(ct),b=typeof c=="string"&&kf.test(c),g,p=!1;if(typeof c=="string"&&b&&(g=c,xf))try{let L=new URL(window.location.href),A=c.startsWith("//")?new URL(L.protocol+c):new URL(c),$=$t(A.pathname,y);A.origin===L.origin&&$!=null?c=$+A.search+A.hash:p=!0}catch{Ze(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=g0(c,{relative:s}),[k,S,j]=Y0(n,f),E=av(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:s,viewTransition:h,unstable_useTransitions:x});function P(L){t&&t(L),L.defaultPrevented||E(L)}let F=w.createElement("a",{...f,...j,href:g||m,onClick:p||i?t:P,ref:tv(v,S),target:l,"data-discover":!b&&r==="render"?"true":void 0});return k&&!b?w.createElement(w.Fragment,null,F,w.createElement(X0,{page:m})):F});xr.displayName="Link";var nv=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:a,viewTransition:o,children:l,...c},d){let h=ks(a,{relative:c.relative}),f=ar(),v=w.useContext(Xi),{navigator:y,basename:x}=w.useContext(ct),b=v!=null&&dv(h)&&o===!0,g=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,p=f.pathname,m=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(p=p.toLowerCase(),m=m?m.toLowerCase():null,g=g.toLowerCase()),m&&x&&(m=$t(m,x)||m);const k=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let S=p===g||!s&&p.startsWith(g)&&p.charAt(k)==="/",j=m!=null&&(m===g||!s&&m.startsWith(g)&&m.charAt(g.length)==="/"),E={isActive:S,isPending:j,isTransitioning:b},P=S?t:void 0,F;typeof n=="function"?F=n(E):F=[n,S?"active":null,j?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(E):i;return w.createElement(xr,{...c,"aria-current":P,className:F,ref:d,style:L,to:a,viewTransition:o},typeof l=="function"?l(E):l)});nv.displayName="NavLink";var sv=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:a=ai,action:o,onSubmit:l,relative:c,preventScrollReset:d,viewTransition:h,...f},v)=>{let{unstable_useTransitions:y}=w.useContext(ct),x=uv(),b=cv(o,{relative:c}),g=a.toLowerCase()==="get"?"get":"post",p=typeof o=="string"&&kf.test(o),m=k=>{if(l&&l(k),k.defaultPrevented)return;k.preventDefault();let S=k.nativeEvent.submitter,j=(S==null?void 0:S.getAttribute("formmethod"))||a,E=()=>x(S||k.currentTarget,{fetcherKey:t,method:j,navigate:r,replace:s,state:i,relative:c,preventScrollReset:d,viewTransition:h});y&&r!==!1?w.startTransition(()=>E()):E()};return w.createElement("form",{ref:v,method:g,action:b,onSubmit:n?l:m,...f,"data-discover":!p&&e==="render"?"true":void 0})});sv.displayName="Form";function iv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _f(e){let t=w.useContext(gn);return ne(t,iv(e)),t}function av(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:a,unstable_useTransitions:o}={}){let l=It(),c=ar(),d=ks(e,{relative:i});return w.useCallback(h=>{if(D0(h,t)){h.preventDefault();let f=r!==void 0?r:us(c)===us(d),v=()=>l(e,{replace:f,state:n,preventScrollReset:s,relative:i,viewTransition:a});o?w.startTransition(()=>v()):v()}},[c,l,d,r,n,t,e,s,i,a,o])}function bf(e){Ze(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(zo(e)),r=w.useRef(!1),n=ar(),s=w.useMemo(()=>U0(n.search,r.current?null:t.current),[n.search]),i=It(),a=w.useCallback((o,l)=>{const c=zo(typeof o=="function"?o(new URLSearchParams(s)):o);r.current=!0,i("?"+c,l)},[i,s]);return[s,a]}var ov=0,lv=()=>`__${String(++ov)}__`;function uv(){let{router:e}=_f("useSubmit"),{basename:t}=w.useContext(ct),r=N0(),n=e.fetch,s=e.navigate;return w.useCallback(async(i,a={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=z0(i,t);if(a.navigate===!1){let f=a.fetcherKey||lv();await n(f,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await s(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,s,t,r])}function cv(e,{relative:t}={}){let{basename:r}=w.useContext(ct),n=w.useContext(Lt);ne(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...ks(e||".",{relative:t})},a=ar();if(e==null){i.search=a.search;let o=new URLSearchParams(i.search),l=o.getAll("index");if(l.some(d=>d==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let d=o.toString();i.search=d?`?${d}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Ct([r,i.pathname])),us(i)}function dv(e,{relative:t}={}){let r=w.useContext(ff);ne(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=_f("useViewTransitionState"),s=ks(e,{relative:t});if(!r.isTransitioning)return!1;let i=$t(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=$t(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Oi(s.pathname,a)!=null||Oi(s.pathname,i)!=null}const hv="modulepreload",fv=function(e){return"/"+e},_c={},_s=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=fv(l),l in _c)return;_c[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":hv,c||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},mv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class tu extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class pv extends tu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bc extends tu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sc extends tu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Bo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Bo||(Bo={}));var gv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class vv{constructor(t,{headers:r={},customFetch:n,region:s=Bo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=mv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return gv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${t}`);l&&l!=="any"&&(o["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(x=>{throw new pv(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new bc(h);if(!h.ok)throw new Sc(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Sc||s instanceof bc?s.context:void 0}}})}}var $e={},ru={},ea={},bs={},ta={},ra={},yv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dn=yv();const wv=dn.fetch,Sf=dn.fetch.bind(dn),jf=dn.Headers,xv=dn.Request,kv=dn.Response,vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:jf,Request:xv,Response:kv,default:Sf,fetch:wv},Symbol.toStringTag,{value:"Module"})),_v=mm(vn);var na={};Object.defineProperty(na,"__esModule",{value:!0});let bv=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};na.default=bv;var Ef=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});const Sv=Ef(_v),jv=Ef(na);let Ev=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Sv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l,c;let d=null,h=null,f=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const b=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&b===""?(v=204,y="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new jv.default(d)}return{error:d,data:h,count:f,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ra.default=Ev;var Nv=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ta,"__esModule",{value:!0});const Cv=Nv(ra);let Pv=class extends Cv.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};ta.default=Pv;var Tv=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});const Rv=Tv(ta);let Ov=class extends Rv.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bs.default=Ov;var $v=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ea,"__esModule",{value:!0});const Cn=$v(bs);let Av=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new Cn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var a;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Cn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Cn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Cn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};ea.default=Av;var Nf=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ru,"__esModule",{value:!0});const Lv=Nf(ea),Iv=Nf(bs);let Dv=class Cf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Lv.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Cf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(o="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Iv.default({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};ru.default=Dv;var yn=Qe&&Qe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($e,"__esModule",{value:!0});$e.PostgrestError=$e.PostgrestBuilder=$e.PostgrestTransformBuilder=$e.PostgrestFilterBuilder=$e.PostgrestQueryBuilder=$e.PostgrestClient=void 0;const Pf=yn(ru);$e.PostgrestClient=Pf.default;const Tf=yn(ea);$e.PostgrestQueryBuilder=Tf.default;const Rf=yn(bs);$e.PostgrestFilterBuilder=Rf.default;const Of=yn(ta);$e.PostgrestTransformBuilder=Of.default;const $f=yn(ra);$e.PostgrestBuilder=$f.default;const Af=yn(na);$e.PostgrestError=Af.default;var Uv=$e.default={PostgrestClient:Pf.default,PostgrestQueryBuilder:Tf.default,PostgrestFilterBuilder:Rf.default,PostgrestTransformBuilder:Of.default,PostgrestBuilder:$f.default,PostgrestError:Af.default};const{PostgrestClient:Mv,PostgrestQueryBuilder:mx,PostgrestFilterBuilder:px,PostgrestTransformBuilder:gx,PostgrestBuilder:vx,PostgrestError:yx}=Uv;class Fv{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const zv="2.15.5",Bv=`realtime-js/${zv}`,Vv="1.0.0",Vo=1e4,Wv=1e3,Hv=100;var Vn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vn||(Vn={}));var he;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(he||(he={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var Wo;(function(e){e.websocket="websocket"})(Wo||(Wo={}));var mr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mr||(mr={}));class qv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const l=n.decode(t.slice(a,a+i));a=a+i;const c=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:l,payload:c}}}class Lf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Q||(Q={}));const jc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=Kv(a,e,t,s),i),{})},Kv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?If(i,a):Ho(a)},If=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Yv(t,r)}switch(e){case Q.bool:return Gv(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return Jv(t);case Q.json:case Q.jsonb:return Qv(t);case Q.timestamp:return Xv(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Ho(t);default:return Ho(t)}},Ho=e=>e,Gv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Yv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>If(t,o))}return e},Xv=e=>typeof e=="string"?e.replace(" ","T"):e,Df=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ia{constructor(t,r,n={},s=Vo){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ec;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ec||(Ec={}));class Wn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wn.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Wn.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wn.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{a[c]||(l[c]=d)}),this.map(a,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),v=h.map(b=>b.presence_ref),y=d.filter(b=>v.indexOf(b.presence_ref)<0),x=h.filter(b=>f.indexOf(b.presence_ref)<0);y.length>0&&(o[c]=y),x.length>0&&(l[c]=x)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const h=t[o].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);t[o].unshift(...f)}n(o,d,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=c,s(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Nc||(Nc={}));var Hn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hn||(Hn={}));var bt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bt||(bt={}));class nu{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ia(this,it.join,this.params,this.timeout),this.rejoinTimer=new Lf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Wn(this),this.broadcastEndpointURL=Df(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Hn.PRESENCE]&&this.bindings[Hn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(bt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(bt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){t==null||t(bt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<b;p++){const m=x[p],{filter:{event:k,schema:S,table:j,filter:E}}=m,P=v&&v[p];if(P&&P.event===k&&P.schema===S&&P.table===j&&P.filter===E)g.push(Object.assign(Object.assign({},m),{id:P.id}));else{this.unsubscribe(),this.state=he.errored,t==null||t(bt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(bt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,t==null||t(bt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===he.joined&&t===Hn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ia(this,it.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ia(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=it;if(n&&[o,l,c,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,x,b;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((b=(x=v.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(v=>v.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var y,x,b,g,p,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const k=v.id,S=(y=v.filter)===null||y===void 0?void 0:y.event;return k&&((x=r.ids)===null||x===void 0?void 0:x.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return k==="*"||k===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:b,commit_timestamp:g,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&nu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jc(t.columns,t.old_record)),r}}const Da=()=>{},Ws={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zv=[1e3,2e3,5e3,1e4],ey=1e4,ty=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ry{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vo,this.transport=null,this.heartbeatIntervalMs=Ws.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Da,this.ref=0,this.reconnectTimer=null,this.logger=Da,this.conn=null,this.sendBuffer=[],this.serializer=new qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>_s(async()=>{const{default:o}=await Promise.resolve().then(()=>vn);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Wo.websocket}`,this.httpEndpoint=Df(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Vv}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return mr.Connecting;case Vn.open:return mr.Open;case Vn.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new nu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ws.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([ty],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Bv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(it.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Lf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ws.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,c,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Vo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ws.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Da,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>Zv[h-1]||ey,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class su extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ny extends su{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qo extends su{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var sy=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const Uf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},iy=()=>sy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>vn),void 0)).Response:Response}),Ko=e=>{if(Array.isArray(e))return e.map(r=>Ko(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ko(n)}),t},ay=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Cr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const Ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),oy=(e,t,r)=>Cr(void 0,void 0,void 0,function*(){const n=yield iy();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new ny(Ua(s),i,a))}).catch(s=>{t(new qo(Ua(s),s))}):t(new qo(Ua(e),e))}),ly=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(ay(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ss(e,t,r,n,s,i){return Cr(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,ly(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>oy(l,o,n))})})}function $i(e,t,r,n){return Cr(this,void 0,void 0,function*(){return Ss(e,"GET",t,r,n)})}function gt(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return Ss(e,"POST",t,n,s,r)})}function Go(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return Ss(e,"PUT",t,n,s,r)})}function uy(e,t,r,n){return Cr(this,void 0,void 0,function*(){return Ss(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Mf(e,t,r,n,s){return Cr(this,void 0,void 0,function*(){return Ss(e,"DELETE",t,n,s,r)})}var je=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const cy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class dy{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Uf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return je(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Cc),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(t=="PUT"?Go:gt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Cc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Go(this.fetch,o.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new su("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}update(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield gt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return je(this,void 0,void 0,function*(){try{const s=yield gt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}download(t,r){return je(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield $i(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(fe(o))return{data:null,error:o};throw o}})}info(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $i(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ko(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}exists(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n)&&n instanceof qo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${c}`)}}}remove(t){return je(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}list(t,r,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},cy),r),{prefix:t||""});return{data:yield gt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}listV2(t,r){return je(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield gt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hy="2.12.1",fy={"X-Client-Info":`storage-js/${hy}`};var Or=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class my{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},fy),r),this.fetch=Uf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Or(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(fe(t))return{data:null,error:t};throw t}})}getBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield $i(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Or(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Or(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield gt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Or(this,void 0,void 0,function*(){try{return{data:yield Mf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}}class py extends my{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new dy(this.url,this.headers,t,this.fetch)}}const gy="2.57.4";let $n="";typeof Deno<"u"?$n="deno":typeof document<"u"?$n="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$n="react-native":$n="node";const vy={"X-Client-Info":`supabase-js-${$n}/${gy}`},yy={headers:vy},wy={schema:"public"},xy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ky={};var _y=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};const by=e=>{let t;return e?t=e:typeof fetch>"u"?t=Sf:t=fetch,(...r)=>t(...r)},Sy=()=>typeof Headers>"u"?jf:Headers,jy=(e,t,r)=>{const n=by(r),s=Sy();return(i,a)=>_y(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:e;let c=new s(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:c}))})};var Ey=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};function Ny(e){return e.endsWith("/")?e:e+"/"}function Cy(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ey(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Py(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ny(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ff="2.71.1",Dr=30*1e3,Jo=3,Ma=Jo*Dr,Ty="http://localhost:9999",Ry="supabase.auth.token",Oy={"X-Client-Info":`gotrue-js/${Ff}`},Qo="X-Supabase-Api-Version",zf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},$y=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ay=10*60*1e3;class iu extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ly extends iu{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Iy(e){return M(e)&&e.name==="AuthApiError"}class Bf extends iu{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class or extends iu{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Mt extends or{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dy(e){return M(e)&&e.name==="AuthSessionMissingError"}class Hs extends or{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qs extends or{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ks extends or{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Uy(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pc extends or{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Yo extends or{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fa(e){return M(e)&&e.name==="AuthRetryableFetchError"}class Tc extends or{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xo extends or{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Rc=` 	
\r=`.split(""),My=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Rc.length;t+=1)e[Rc[t].charCodeAt(0)]=-2;for(let t=0;t<Ai.length;t+=1)e[Ai[t].charCodeAt(0)]=t;return e})();function Oc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ai[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ai[n]),t.queuedBits-=6}}function Vf(e,t,r){const n=My[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $c(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{By(a,n,r)};for(let a=0;a<e.length;a+=1)Vf(e.charCodeAt(a),s,i);return t.join("")}function Fy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function zy(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Fy(n,t)}}function By(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Vy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Vf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Wy(e){const t=[];return zy(e,r=>t.push(r)),new Uint8Array(t)}function Hy(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Oc(s,r,n)),Oc(null,r,n),t.join("")}function qy(e){return Math.round(Date.now()/1e3)+e}function Ky(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rt=()=>typeof window<"u"&&typeof document<"u",ur={tested:!1,writable:!1},Wf=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ur.tested)return ur.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable};function Gy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Hf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>vn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Jy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ur=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},cr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ut=async(e,t)=>{await e.removeItem(t)};class sa{constructor(){this.promise=new sa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}sa.promiseConstructor=Promise;function za(e){const t=e.split(".");if(t.length!==3)throw new Xo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!$y.test(t[n]))throw new Xo("JWT not in base64url format");return{header:JSON.parse($c(t[0])),payload:JSON.parse($c(t[1])),signature:Vy(t[2]),raw:{header:t[0],payload:t[1]}}}async function Qy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Yy(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function Xy(e){return("0"+e.toString(16)).substr(-2)}function Zy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Xy).join("")}async function ew(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function tw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ew(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(e,t,r=!1){const n=Zy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ur(e,`${t}-code-verifier`,s);const i=await tw(n);return[i,n===i?"plain":"s256"]}const rw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nw(e){const t=e.headers.get(Qo);if(!t||!t.match(rw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function sw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function iw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(e){if(!aw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ba(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ac(e){return JSON.parse(JSON.stringify(e))}var ow=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lw=[502,503,504];async function Lc(e){var t;if(!Jy(e))throw new Yo(fr(e),0);if(lw.includes(e.status))throw new Yo(fr(e),e.status);let r;try{r=await e.json()}catch(i){throw new Bf(fr(i),i)}let n;const s=nw(e);if(s&&s.getTime()>=zf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tc(fr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Mt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Tc(fr(r),e.status,r.weak_password.reasons);throw new Ly(fr(r),e.status||500,n)}const uw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function B(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Qo]||(i[Qo]=zf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await cw(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function cw(e,t,r,n,s,i){const a=uw(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new Yo(fr(l),0)}if(o.ok||await Lc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Lc(l)}}function kt(e){var t;let r=null;mw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ic(e){const t=kt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dw(e){return{data:e,error:null}}function hw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=ow(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function fw(e){return e}function mw(e){return e.access_token&&e.refresh_token&&e.expires_in}const Va=["global","local","others"];var pw=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class gw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Hf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Va[0]){if(Va.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Va.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Wt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=pw(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:hw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(M(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fw});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(y.split(";")[1].split("=")[1]);c[`${b}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(M(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ar(t);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wt})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ar(t);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Wt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ar(t);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Wt})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ar(t.userId);try{const{data:r,error:n}=await B(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(M(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ar(t.userId),Ar(t.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}function Dc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function vw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Lr={debug:!!(globalThis&&Wf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class yw extends qf{}async function ww(e,t,r){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new yw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vw();const xw={url:Ty,storageKey:Ry,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Oy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uc(e,t,r){return await r()}const Ir={};class cs{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cs.nextInstanceID,cs.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},xw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new gw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Hf(s.fetch),this.lock=s.lock||Uc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ww:this.lock=Uc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Wf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Dc(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Ir[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Ir[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ir[this.storageKey]=Object.assign(Object.assign({},Ir[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ff}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Gy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),rt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Uy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return M(r)?{error:r}:{error:new Bf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kt}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await $r(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:kt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:kt})}else throw new qs("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ic})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ic})}else throw new qs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Hs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,l,c,d,h,f,v;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:b,wallet:g,statement:p,options:m}=t;let k;if(rt())if(typeof g=="object")k=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))k=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=g}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const j=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await k.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:b,error:g}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Hy(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:kt});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Hs}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(M(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await cr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kt});if(await Ut(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Hs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kt}),{data:l,error:c}=o;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Hs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await $r(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new qs("You must provide either an email or phone number.")}catch(o){if(M(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kt});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await $r(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:dw})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Mt;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await B(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await B(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new qs("You must provide either an email or phone number and a type")}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await cr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ma:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await cr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ba()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Wt})})}catch(r){if(M(r))return Dy(r)&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Mt;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await $r(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Wt});if(d)throw d;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Mt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=za(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(M(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Mt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(M(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!rt())throw new Ks("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ks(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ks("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pc("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!i||!o||!a||!c)throw new Ks("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=Dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(M(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await cr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Iy(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Ut(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Ky(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await $r(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return rt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(M(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Yy(async s=>(s>0&&await Qy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kt})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Fa(i)&&Date.now()+a-n<Dr})}catch(n){if(this._debug(r,"error",n),M(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),rt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await cr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await cr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Ur(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ba()}else if(s&&!s.user&&!s.user){const a=await cr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Ut(this.storage,this.storageKey+"-user"),await Ur(this.storage,this.storageKey,s)):s.user=Ba()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ma;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ma}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Fa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sa;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),M(i)){const a={session:null,error:i};return Fa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ur(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Ac(s);await Ur(this.storage,this.storageKey,i)}else{const s=Ac(r);await Ur(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ut(this.storage,this.storageKey),await Ut(this.storage,this.storageKey+"-code-verifier"),await Ut(this.storage,this.storageKey+"-user"),this.userStorage&&await Ut(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Dr}ms, refresh threshold is ${Jo} ticks`),s<=Jo&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await $r(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(M(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(M(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=za(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Ay>s)return n;const{data:i,error:a}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=za(n);r!=null&&r.allowExpired||sw(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const d=iw(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,Wy(`${o}.${l}`)))throw new Xo("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}}cs.nextInstanceID=0;const kw=cs;class _w extends kw{constructor(t){super(t)}}var bw=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{c(n.next(d))}catch(h){a(h)}}function l(d){try{c(n.throw(d))}catch(h){a(h)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})};class Sw{constructor(t,r,n){var s,i,a;this.supabaseUrl=t,this.supabaseKey=r;const o=Py(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:wy,realtime:ky,auth:Object.assign(Object.assign({},xy),{storageKey:l}),global:yy},d=Cy(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=jy(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Mv(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new py(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new vv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return bw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:a,flowType:o,lock:l,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _w({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:o,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new ry(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jw=(e,t,r)=>new Sw(e,t,r);function Ew(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ew()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nw="https://nrvowwcotjqmbohpucrp.supabase.co",Cw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5ydm93d2NvdGpxbWJvaHB1Y3JwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1MjA2NzAsImV4cCI6MjA4MTA5NjY3MH0.fkPloAcjzHg3cHxi64UXDh8rg99CokSKqtYvT9uGH-4",O=jw(Nw,Cw),Pw=async()=>{try{const{data:e,error:t}=await O.from("voting_settings").select("*").order("created_at",{ascending:!1}).limit(1).single();if(t||!e)return{isOpen:!1,isActive:!1,timeRemaining:0,status:"inactive",settings:null};const r=new Date,n=new Date(e.start_time),s=new Date(e.end_time),i=s.getTime()-r.getTime();let a,o=!1,l=e.is_active;return l?r<n?a="not-started":r>s?a="ended":(a="active",o=!0):a="inactive",{isOpen:o,isActive:l,timeRemaining:Math.max(0,i),status:a,settings:e}}catch(e){return console.error("Error checking voting status:",e),{isOpen:!1,isActive:!1,timeRemaining:0,status:"inactive",settings:null}}},Tw=async e=>{const{data:t,error:r}=await O.from("voting_settings").insert({voting_name:e.voting_name||"Pemilihan Ketua Serikat Pekerja",start_time:e.start_time,end_time:e.end_time,is_active:e.is_active}).select().single();if(r)throw new Error(`Failed to update voting settings: ${r.message}`);return t},Rw=async()=>{const{data:e,error:t}=await O.from("voting_settings").select("*").order("created_at",{ascending:!1}).limit(1).single();return t||!e?null:e},Ow=async e=>{try{console.log("=== CHECKING VOTER ELIGIBILITY ==="),console.log("User ID:",e);const{data:t,error:r}=await O.rpc("debug_voter_eligibility",{user_uuid:e});r?console.warn("Debug function error (continuing anyway):",r):console.log("Debug info:",t);const{data:n,error:s}=await O.from("voter_profiles").select("*").eq("user_id",e).eq("is_active",!0).maybeSingle();if(console.log("Profile query result:",{profile:n,error:s}),s)return console.error("Error checking voter eligibility:",s),{eligible:!1,error:"Error checking voter status. Silakan coba lagi atau hubungi admin."};if(!n){console.warn("No voter profile found for user:",e);const{data:c}=await O.from("voter_profiles").select("*").eq("user_id",e).maybeSingle();return c?(console.log("Found inactive profile:",c),{eligible:!1,error:`Akun Anda ditemukan tetapi tidak aktif. Status: is_active=${c.is_active}. Silakan hubungi admin.`}):{eligible:!1,error:"Akun Anda belum diaktivasi atau belum diapprove oleh admin. Silakan hubungi admin."}}console.log("Checking employees table for has_voted status...");const{data:i,error:a}=await O.from("employees").select("has_voted").eq("employee_id",n.employee_id).maybeSingle();if(a)return console.error("Error checking employee status:",a),{eligible:!1,error:"Error checking employee voting status. Silakan coba lagi atau hubungi admin."};if(!i)return console.warn("No employee record found for employee_id:",n.employee_id),{eligible:!1,error:"Data employee tidak ditemukan. Silakan hubungi admin."};if(i.has_voted)return console.log("User already voted (from employees table):",i.has_voted),{eligible:!1,error:"Anda sudah melakukan voting sebelumnya. Setiap voter hanya dapat voting sekali.",profile:n};console.log("Checking votes table for existing vote...");const{data:o,error:l}=await O.from("votes").select("id, voted_at").eq("employee_id",n.employee_id).maybeSingle();if(l)console.warn("Error checking votes table:",l);else if(o)return console.log("Found existing vote in votes table:",o),{eligible:!1,error:"Anda sudah melakukan voting sebelumnya. Data vote ditemukan di sistem.",profile:n};return console.log("User is eligible to vote:",n),{eligible:!0,profile:n}}catch(t){return console.error("Unexpected error checking voter eligibility:",t),{eligible:!1,error:"Terjadi kesalahan saat memeriksa status voter. Silakan coba lagi."}}},$w=async e=>{try{console.log("=== UPDATING VOTER VOTE STATUS ==="),console.log("Voter Profile ID:",e);const{data:t,error:r}=await O.from("voter_profiles").select("*").eq("id",e).single();if(r)throw new Error(`Failed to fetch voter profile: ${r.message}`);console.log("Voter profile found:",t),console.log("Updating employees table...");const{error:n}=await O.from("employees").update({has_voted:!0}).eq("employee_id",t.employee_id);if(n)throw new Error(`Failed to update employees table: ${n.message}`);console.log("Employees table updated successfully"),console.log("=== VOTER VOTE STATUS UPDATE COMPLETED ===")}catch(t){throw console.error("Error updating voter vote status:",t),new Error(`Failed to update voter status: ${t instanceof Error?t.message:"Unknown error"}`)}},Aw=async e=>{try{console.log("Starting employee deletion for:",e);const{data:t}=await O.from("voter_profiles").select("id, user_id").eq("employee_id",e).single();console.log("Deleting votes for employee:",e);const{error:r}=await O.from("votes").delete().eq("employee_id",e);if(r&&console.warn("Error deleting votes:",r),t){console.log("Deleting voter profile:",t.id);const{error:i}=await O.from("voter_profiles").delete().eq("id",t.id);i&&console.warn("Error deleting voter profile:",i)}console.log("Deleting voter registration for employee:",e);const{error:n}=await O.from("voter_registrations").delete().eq("employee_id",e);n&&console.warn("Error deleting voter registration:",n),console.log("Deleting employee:",e);const{error:s}=await O.from("employees").delete().eq("employee_id",e);if(s)throw console.error("Error deleting employee:",s),new Error(`Failed to delete employee: ${s.message}`);return console.log("Employee deletion completed successfully"),{success:!0,message:"Employee dan data terkait berhasil dihapus"}}catch(t){return console.error("Unexpected error in deleteEmployee:",t),{success:!1,error:t.message||"Terjadi kesalahan saat menghapus employee"}}},Lw=async e=>{try{console.log("=== DELETING VOTE AND RESETTING STATUS ==="),console.log("Employee ID:",e),console.log("Deleting vote record...");const{error:t}=await O.from("votes").delete().eq("employee_id",e);if(t)throw new Error(`Failed to delete vote: ${t.message}`);console.log("Vote record deleted successfully"),console.log("Resetting has_voted status in employees table...");const{error:r}=await O.from("employees").update({has_voted:!1}).eq("employee_id",e);if(r)throw console.error("Failed to reset employee status:",r),new Error(`Failed to reset employee status: ${r.message}`);return console.log("Employee has_voted status reset to false"),console.log("=== VOTE DELETION AND STATUS RESET COMPLETED ==="),{success:!0,message:"Vote berhasil dihapus dan status voting direset"}}catch(t){return console.error("Error in deleteVoteAndResetStatus:",t),{success:!1,error:t.message||"Terjadi kesalahan saat menghapus vote"}}},Iw=async e=>{try{if(console.log("=== BULK DELETING VOTES AND RESETTING STATUS ==="),console.log("Employee IDs:",e),!e||e.length===0)throw new Error("Daftar employee ID tidak boleh kosong");const t=[];let r=0,n=0;for(const i of e)try{console.log(`Processing employee ID: ${i}`);const{error:a}=await O.from("votes").delete().eq("employee_id",i);a&&console.warn(`Error deleting vote for ${i}:`,a);const{error:o}=await O.from("employees").update({has_voted:!1}).eq("employee_id",i);o&&console.warn(`Error resetting employee status for ${i}:`,o),r++,t.push({employeeId:i,success:!0})}catch(a){console.error(`Error processing employee ${i}:`,a),n++,t.push({employeeId:i,success:!1,error:a.message})}return console.log("=== BULK OPERATION COMPLETED ==="),console.log(`Success: ${r}, Errors: ${n}`),{success:!0,message:`Berhasil memproses ${r} user, ${n} error`,successCount:r,errorCount:n,results:t}}catch(t){return console.error("Error in bulkDeleteVotesAndResetStatus:",t),{success:!1,error:t.message||"Terjadi kesalahan saat bulk delete votes",successCount:0,errorCount:(e==null?void 0:e.length)||0,results:[]}}},Kf=w.createContext(void 0);function Dw({children:e}){const[t,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{O.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),s(!1)});const{data:{subscription:c}}=O.auth.onAuthStateChange((d,h)=>{(async()=>r((h==null?void 0:h.user)??null))()});return()=>c.unsubscribe()},[]);const i=async(c,d)=>{try{const{error:h}=await O.auth.signInWithPassword({email:c,password:d});return{error:h}}catch(h){return{error:h}}},a=async()=>{await O.auth.signOut()},o=async c=>{try{const d="http://localhost:5173/reset-password/confirm",{error:h}=await O.auth.resetPasswordForEmail(c,{redirectTo:d});return{error:h}}catch(d){return{error:d}}},l=async c=>{try{const{error:d}=await O.auth.updateUser({password:c});return{error:d}}catch(d){return{error:d}}};return u.jsx(Kf.Provider,{value:{user:t,loading:n,signIn:i,signOut:a,resetPassword:o,updatePassword:l},children:e})}function ia(){const e=w.useContext(Kf);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(e,t)=>{const r=w.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>w.createElement("svg",{ref:d,...Uw,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Mw(e)}`,o].join(" "),...c},[...t.map(([h,f])=>w.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=q("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=q("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=q("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=q("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=q("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=q("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=q("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=q("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=q("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=q("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=q("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=q("XSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Hc(){return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800",children:u.jsx("div",{className:"min-h-screen bg-black bg-opacity-20 flex items-center justify-center px-4",children:u.jsxs("div",{className:"max-w-4xl w-full",children:[u.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-3 sm:mb-4 leading-tight",children:"Pemilihan Bakal Calon Ketua Serikat Pekerja"}),u.jsx("p",{className:"text-lg sm:text-xl text-blue-100",children:"Sistem voting online yang aman dan transparan"})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-8 sm:mb-12",children:[u.jsxs(xr,{to:"/vote",className:"bg-white rounded-2xl p-4 sm:p-6 lg:p-8 text-center hover:shadow-2xl transition-all transform hover:-translate-y-1 block",children:[u.jsx("div",{className:"bg-blue-100 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:u.jsx(Xw,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})}),u.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-2",children:"Voting"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Gunakan hak suara Anda untuk memilih ketua serikat pekerja"}),u.jsx("div",{className:"bg-blue-600 text-white font-medium py-2 sm:py-3 rounded-lg text-sm sm:text-base",children:"Mulai Voting"})]}),u.jsxs(xr,{to:"/results",className:"bg-white rounded-2xl p-4 sm:p-6 lg:p-8 text-center hover:shadow-2xl transition-all transform hover:-translate-y-1 block",children:[u.jsx("div",{className:"bg-green-100 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:u.jsx(zw,{className:"w-6 h-6 sm:w-8 sm:h-8 text-green-600"})}),u.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-2",children:"Hasil"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Lihat hasil voting secara real-time dan transparan"}),u.jsx("div",{className:"bg-green-600 text-white font-medium py-2 sm:py-3 rounded-lg text-sm sm:text-base",children:"Lihat Hasil"})]}),u.jsxs(xr,{to:"/register",className:"bg-white rounded-2xl p-4 sm:p-6 lg:p-8 text-center hover:shadow-2xl transition-all transform hover:-translate-y-1 block sm:col-span-2 lg:col-span-1",children:[u.jsx("div",{className:"bg-purple-100 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:u.jsx(Gf,{className:"w-6 h-6 sm:w-8 sm:h-8 text-purple-600"})}),u.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900 mb-2",children:"Registrasi Voter"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-4",children:"Daftar sebagai voter untuk pemilihan chairman serikat pekerja"}),u.jsx("div",{className:"bg-purple-600 text-white font-medium py-2 sm:py-3 rounded-lg text-sm sm:text-base",children:"Daftar Sekarang"})]})]}),u.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-4 sm:p-6 text-white",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:"Cara Voting:"}),u.jsxs("ol",{className:"space-y-2 text-blue-50",children:[u.jsxs("li",{className:"flex gap-2 sm:gap-3",children:[u.jsx("span",{className:"font-bold text-sm sm:text-base",children:"1."}),u.jsx("span",{className:"text-sm sm:text-base",children:"Masukkan Nomor Induk Pegawai (NIP) Anda"})]}),u.jsxs("li",{className:"flex gap-2 sm:gap-3",children:[u.jsx("span",{className:"font-bold text-sm sm:text-base",children:"2."}),u.jsx("span",{className:"text-sm sm:text-base",children:"Pilih calon ketua serikat pekerja"})]}),u.jsxs("li",{className:"flex gap-2 sm:gap-3",children:[u.jsx("span",{className:"font-bold text-sm sm:text-base",children:"3."}),u.jsx("span",{className:"text-sm sm:text-base",children:"Ambil foto selfie sebagai validasi"})]}),u.jsxs("li",{className:"flex gap-2 sm:gap-3",children:[u.jsx("span",{className:"font-bold text-sm sm:text-base",children:"4."}),u.jsx("span",{className:"text-sm sm:text-base",children:"Kirim voting Anda"})]})]})]})]})})})}const Jf=()=>{const[e,t]=w.useState({isOpen:!1,isActive:!1,timeRemaining:0,status:"inactive",settings:null}),[r,n]=w.useState(!0),[s,i]=w.useState(null),a=w.useCallback(async()=>{try{i(null);const d=await Pw();t(d)}catch(d){console.error("Error fetching voting status:",d),i(d instanceof Error?d.message:"Unknown error")}finally{n(!1)}},[]);w.useEffect(()=>{a();const d=setInterval(a,3e4);return()=>clearInterval(d)},[a]);const o=w.useCallback(d=>{if(d<=0)return"Voting telah berakhir";const h=Math.floor(d/(1e3*60*60*24)),f=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),v=Math.floor(d%(1e3*60*60)/(1e3*60)),y=Math.floor(d%(1e3*60)/1e3);return h>0?`${h}h ${f}j ${v}m ${y}d`:f>0?`${f}j ${v}m ${y}d`:v>0?`${v}m ${y}d`:`${y}d`},[]),l=w.useCallback(()=>{switch(e.status){case"inactive":return"Voting tidak aktif";case"not-started":return"Voting belum dimulai";case"active":return"Voting sedang berlangsung";case"ended":return"Voting telah berakhir";default:return"Status tidak diketahui"}},[e.status]),c=w.useCallback(()=>{switch(e.status){case"inactive":return"text-gray-500";case"not-started":return"text-blue-500";case"active":return"text-green-500";case"ended":return"text-red-500";default:return"text-gray-500"}},[e.status]);return{votingStatus:e,loading:r,error:s,refreshStatus:a,formatTimeRemaining:o,getStatusDisplayText:l,getStatusColor:c}},ex=({showDetails:e=!1,className:t=""})=>{const{votingStatus:r,loading:n,error:s,formatTimeRemaining:i,getStatusDisplayText:a,getStatusColor:o}=Jf();if(n)return u.jsx("div",{className:`bg-gray-50 border border-gray-200 rounded-lg p-3 sm:p-4 ${t}`,children:u.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[u.jsx(Zo,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),u.jsx("span",{className:"text-sm sm:text-base",children:"Memuat status voting..."})]})});if(s)return u.jsx("div",{className:`bg-red-50 border border-red-200 rounded-lg p-3 sm:p-4 ${t}`,children:u.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[u.jsx(ds,{className:"w-4 h-4 sm:w-5 sm:h-5"}),u.jsxs("span",{className:"text-sm sm:text-base",children:["Error: ",s]})]})});const l=()=>{switch(r.status){case"inactive":return u.jsx(Vc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500"});case"not-started":return u.jsx(Bw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-500"});case"active":return u.jsx(hs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-500"});case"ended":return u.jsx(Vc,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-500"});default:return u.jsx(ds,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-500"})}},c=()=>{switch(r.status){case"inactive":return"bg-gray-50 border-gray-200";case"not-started":return"bg-blue-50 border-blue-200";case"active":return"bg-green-50 border-green-200";case"ended":return"bg-red-50 border-red-200";default:return"bg-gray-50 border-gray-200"}};return u.jsxs("div",{className:`border rounded-lg p-3 sm:p-4 ${c()} ${t}`,children:[u.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 mb-2 sm:mb-3",children:[l(),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:`font-semibold text-sm sm:text-base ${o()}`,children:a()}),r.isOpen&&r.timeRemaining>0&&u.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mt-1",children:[u.jsx(Zo,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"}),u.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["Waktu tersisa: ",i(r.timeRemaining)]})]})]})]}),e&&r.settings&&u.jsx("div",{className:"mt-3 sm:mt-4 pt-3 border-t border-gray-200",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 sm:gap-3 text-xs sm:text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-700",children:"Nama Voting:"}),u.jsx("div",{className:"text-gray-600 truncate",children:r.settings.voting_name})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-700",children:"Status:"}),u.jsx("div",{className:`font-medium ${o()}`,children:r.settings.is_active?"Aktif":"Nonaktif"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-700",children:"Mulai:"}),u.jsx("div",{className:"text-gray-600 text-xs sm:text-sm",children:new Date(r.settings.start_time).toLocaleString("id-ID")})]}),u.jsxs("div",{children:[u.jsx("span",{className:"font-medium text-gray-700",children:"Berakhir:"}),u.jsx("div",{className:"text-gray-600 text-xs sm:text-sm",children:new Date(r.settings.end_time).toLocaleString("id-ID")})]})]})})]})},Ha=()=>{try{const e="https://nrvowwcotjqmbohpucrp.supabase.co";if(e){const n=new URL(e).hostname.split(".")[0];localStorage.removeItem(`sb-${n}-auth-token`),localStorage.removeItem(`sb-${n}-refresh-token`)}const t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&(n.includes("supabase")||n.includes("sb-")||n.includes("auth"))&&t.push(n)}t.forEach(r=>localStorage.removeItem(r)),console.log("Supabase session cleared from localStorage")}catch(e){console.warn("Error clearing localStorage:",e)}};function tx(){const e=It(),{user:t,signOut:r}=ia(),[n,s]=w.useState("email-login"),[i,a]=w.useState(""),[o,l]=w.useState(""),[c,d]=w.useState([]),[h,f]=w.useState(null),[v,y]=w.useState(!1),[x,b]=w.useState(""),[g,p]=w.useState(null),{votingStatus:m,loading:k}=Jf(),[S,j]=w.useState(!1);w.useEffect(()=>{P()},[]),w.useEffect(()=>{!k&&!S&&(j(!0),m.isOpen||b(E()))},[k,S,m]);const E=()=>{switch(m.status){case"inactive":return"Voting saat ini tidak aktif. Silakan hubungi admin untuk aktivasi voting.";case"not-started":return`Voting belum dimulai. Voting akan dimulai pada ${m.settings?new Date(m.settings.start_time).toLocaleString("id-ID"):"waktu yang belum ditentukan"}.`;case"ended":return"Voting telah berakhir. Terima kasih atas partisipasi Anda.";default:return"Voting tidak tersedia saat ini. Silakan hubungi admin."}},P=async()=>{const{data:$}=await O.from("candidates").select("*").order("order_number");$&&d($)},F=async $=>{if($.preventDefault(),b(""),y(!0),!m.isOpen){b(E()),y(!1);return}try{const{data:z,error:ie}=await O.auth.signInWithPassword({email:i.trim().toLowerCase(),password:o});if(ie){console.error("Sign in error:",ie),b("Email atau password salah"),y(!1);return}if(!z.user){b("Gagal masuk ke sistem"),y(!1);return}if(!z.user.email_confirmed_at){b("Email Anda belum diverifikasi. Silakan cek email Anda dan klik link verifikasi."),y(!1);return}console.log("Checking voter eligibility for user:",z.user.id);const G=await Ow(z.user.id);if(console.log("Eligibility check result:",G),!G.eligible){console.error("User not eligible:",G.error),G.profile?(Ha(),s("already-voted"),p(G.profile)):b(G.error||"Anda tidak berhak untuk voting"),y(!1);return}p(G.profile||null),console.log("Voter validation successful:",G.profile),y(!1),s("select-candidate")}catch(z){console.error("Unexpected error:",z),b("Terjadi kesalahan yang tidak terduga"),y(!1)}},L=$=>{f($)},A=async()=>{if(!(!h||!g)){y(!0),b("");try{console.log("Starting vote submission...",{voterProfile:g.employee_id,candidateId:h.id});const{data:$,error:z}=await O.from("votes").insert({employee_id:g.employee_id,candidate_id:h.id,selfie_url:"no_selfie_required"}).select().single();if(z)throw console.error("Vote insertion failed:",z),new Error(`Gagal menyimpan vote: ${z.message}`);console.log("Vote saved successfully:",$),console.log("Updating voter profile voting status...");try{await $w(g.id),console.log("Voter profile voting status updated successfully")}catch(ie){console.error("Voter profile update failed:",ie),console.log("Vote was saved but voter profile update failed")}console.log("Vote submission completed successfully"),Ha(),await r(),s("success")}catch($){console.error("Vote submission error:",$);const z=$ instanceof Error?$.message:"Unknown error";Ha(),b(`Gagal menyimpan voting: ${z}. Silakan coba lagi.`)}finally{y(!1)}}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-8",children:[u.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900 text-center mb-4 sm:mb-8",children:"Pemilihan Bakal Calon Ketua Serikat Pekerja"}),u.jsx("div",{className:"mb-4 sm:mb-8",children:u.jsx(ex,{showDetails:!1})}),n==="email-login"&&u.jsx("div",{className:"max-w-md mx-auto",children:u.jsxs("form",{onSubmit:F,className:"space-y-4 sm:space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:i,onChange:$=>a($.target.value),className:"w-full px-3 sm:px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Masukkan email Anda",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsx("input",{type:"password",value:o,onChange:$=>l($.target.value),className:"w-full px-3 sm:px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Masukkan password Anda",required:!0})]}),u.jsx("div",{className:"text-right",children:u.jsx(xr,{to:"/reset-password",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Lupa Password?"})}),x&&u.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:x}),u.jsx("button",{type:"submit",disabled:v,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 text-sm sm:text-base",children:v?"Memproses...":"Masuk"})]})}),n==="select-candidate"&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-800 mb-4 sm:mb-6 text-center",children:"Pilih Calon Ketua Serikat Pekerja"}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mb-6",children:c.map($=>u.jsxs("button",{onClick:()=>L($),className:`bg-white border-2 rounded-xl p-4 sm:p-6 text-left transition-all hover:shadow-lg ${(h==null?void 0:h.id)===$.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-500"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[u.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-100 rounded-full flex items-center justify-center text-lg sm:text-2xl font-bold text-blue-600 flex-shrink-0",children:$.order_number}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate",children:$.name}),(h==null?void 0:h.id)===$.id&&u.jsx("span",{className:"text-sm text-blue-600 font-medium",children:" Terpilih"})]})]}),$.description&&u.jsx("p",{className:"text-xs sm:text-sm text-gray-600 line-clamp-3",children:$.description})]},$.id))}),h&&u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-4",children:u.jsxs("p",{className:"text-center text-sm text-gray-700",children:["Anda memilih: ",u.jsx("span",{className:"font-semibold text-blue-700",children:h.name})]})}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsx("button",{onClick:A,disabled:v,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:v?u.jsxs(u.Fragment,{children:[u.jsx(fs,{className:"w-4 h-4 animate-spin"}),"Menyimpan Vote..."]}):u.jsxs(u.Fragment,{children:[u.jsx(hs,{className:"w-4 h-4"}),"Kirim Voting"]})}),u.jsx("button",{onClick:()=>f(null),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 rounded-lg transition-colors",children:"Batal Pilih"})]}),x&&u.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm mt-4",children:x})]})]}),n==="success"&&u.jsxs("div",{className:"text-center py-8 sm:py-12",children:[u.jsx(hs,{className:"w-16 h-16 sm:w-20 sm:h-20 text-green-500 mx-auto mb-4 sm:mb-6"}),u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Voting Berhasil!"}),u.jsx("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base px-4",children:"Terima kasih telah berpartisipasi dalam pemilihan bakal calon ketua serikat pekerja."}),u.jsx("p",{className:"text-gray-600 mb-6 sm:mb-8 text-sm sm:text-base px-4",children:"Anda telah keluar dari sistem secara otomatis."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4",children:[u.jsx("button",{onClick:()=>e("/"),className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition-colors text-sm sm:text-base",children:"Kembali ke Beranda"}),u.jsx("button",{onClick:()=>e("/results"),className:"inline-block bg-green-600 hover:bg-green-700 text-white font-medium px-6 py-3 rounded-lg transition-colors text-sm sm:text-base",children:"Lihat Hasil Voting"})]})]}),n==="already-voted"&&u.jsxs("div",{className:"text-center py-8 sm:py-12",children:[u.jsx(ds,{className:"w-16 h-16 sm:w-20 sm:h-20 text-orange-500 mx-auto mb-4 sm:mb-6"}),u.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Anda Sudah Melakukan Voting"}),u.jsx("p",{className:"text-gray-600 mb-4 sm:mb-6 text-sm sm:text-base px-4",children:"Akun Anda telah digunakan untuk voting sebelumnya."}),u.jsx("p",{className:"text-gray-600 mb-6 sm:mb-8 text-sm sm:text-base px-4",children:"Setiap voter hanya dapat voting sekali. Terima kasih atas partisipasi Anda."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center px-4",children:[u.jsx("button",{onClick:()=>e("/"),className:"inline-block bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition-colors text-sm sm:text-base",children:"Kembali ke Beranda"}),u.jsx("button",{onClick:()=>e("/results"),className:"inline-block bg-green-600 hover:bg-green-700 text-white font-medium px-6 py-3 rounded-lg transition-colors text-sm sm:text-base",children:"Lihat Hasil Voting"})]})]})]})})})}function rx(){const e=It(),[t,r]=w.useState([]),[n,s]=w.useState(0),[i,a]=w.useState(0),[o,l]=w.useState(!0);w.useEffect(()=>{c();const d=O.channel("vote_changes").on("postgres_changes",{event:"*",schema:"public",table:"votes"},()=>{c()}).subscribe();return()=>{O.removeChannel(d)}},[]);const c=async()=>{l(!0);const{data:d}=await O.from("vote_results").select("*");if(d){r(d);const f=d.reduce((v,y)=>v+y.vote_count,0);s(f)}const{count:h}=await O.from("employees").select("*",{count:"exact",head:!0});a(h||0),l(!1)};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 py-12 px-4",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-4 sm:p-8",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 sm:mb-8 gap-4",children:[u.jsx("h1",{className:"text-xl sm:text-3xl font-bold text-gray-900",children:"Hasil Voting Real-Time"}),u.jsxs("button",{onClick:()=>e("/"),className:"flex items-center justify-center gap-2 text-blue-600 hover:text-blue-700 font-medium p-2 rounded-lg hover:bg-blue-50 w-fit",children:[u.jsx(Hw,{className:"w-4 h-4 sm:w-5 sm:h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Beranda"}),u.jsx("span",{className:"sm:hidden",children:"Home"})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl p-4 sm:p-6 mb-4 sm:mb-8",children:u.jsxs("div",{className:"flex items-center justify-center gap-2 sm:gap-3",children:[u.jsx(tl,{className:"w-6 h-6 sm:w-8 sm:h-8"}),u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"text-2xl sm:text-4xl font-bold",children:[n," / ",i]}),u.jsx("div",{className:"text-xs sm:text-sm text-blue-100",children:"Total Pemilih / Total Pegawai Terdaftar"})]})]})}),o?u.jsx("div",{className:"text-center py-12 text-gray-500",children:"Memuat hasil..."}):t.length===0?u.jsx("div",{className:"text-center py-12 text-gray-500",children:"Belum ada voting yang masuk"}):u.jsx("div",{className:"space-y-4 sm:space-y-6",children:t.map((d,h)=>u.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-white border-2 border-gray-200 rounded-xl p-4 sm:p-6 hover:shadow-lg transition-all",children:u.jsxs("div",{className:"flex items-start gap-3 sm:gap-6",children:[u.jsx("div",{className:`flex-shrink-0 w-12 h-12 sm:w-16 sm:h-16 rounded-full flex items-center justify-center text-lg sm:text-2xl font-bold ${h===0?"bg-yellow-100 text-yellow-600":h===1?"bg-gray-200 text-gray-600":h===2?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:d.order_number}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 gap-2",children:[u.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:d.name}),h===0&&n>0&&u.jsxs("div",{className:"flex items-center gap-1 bg-yellow-100 text-yellow-700 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium w-fit",children:[u.jsx(Jw,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Terdepan"}),u.jsx("span",{className:"sm:hidden",children:"#1"})]})]}),u.jsx("div",{className:"flex items-center gap-2 sm:gap-4 mb-2 sm:mb-3",children:u.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3 sm:h-4 overflow-hidden",children:u.jsx("div",{className:`h-full transition-all duration-500 ${h===0?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{width:`${d.percentage||0}%`}})})}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:[d.vote_count," suara"]}),u.jsxs("span",{className:"font-bold text-gray-900 text-base sm:text-lg",children:[d.percentage||0,"%"]})]})]})]})},d.id))}),u.jsx("div",{className:"mt-4 sm:mt-8 text-center",children:u.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Data diperbarui secara otomatis setiap ada voting baru"})})]})})})}function nx(){const e=It(),[t,r]=w.useState(""),[n,s]=w.useState(""),[i,a]=w.useState(""),[o,l]=w.useState(!1);ia();const c=async d=>{d.preventDefault(),a(""),l(!0);const{data:h,error:f}=await O.auth.signInWithPassword({email:t.trim().toLowerCase(),password:n});if(f){a("Email atau password salah"),l(!1);return}if(!h.user){a("Gagal masuk ke sistem"),l(!1);return}try{const{data:v,error:y}=await O.from("admin_users").select("*").eq("user_id",h.user.id).eq("is_active",!0).maybeSingle();if(y){console.error("Error checking admin status:",y),a("Terjadi kesalahan saat memeriksa status admin"),l(!1);return}if(!v){await O.auth.signOut(),a("Anda tidak memiliki akses ke halaman admin"),l(!1);return}e("/hidupJokowi")}catch(v){console.error("Unexpected error:",v),a("Terjadi kesalahan yang tidak terduga"),l(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-4 sm:p-6 lg:p-8",children:[u.jsx("div",{className:"flex items-center justify-center mb-6 sm:mb-8",children:u.jsx("div",{className:"bg-blue-100 p-3 sm:p-4 rounded-full",children:u.jsx(Li,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})})}),u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 text-center mb-2",children:"Login Admin"}),u.jsx("p",{className:"text-sm sm:text-base text-gray-600 text-center mb-6 sm:mb-8",children:"Masuk untuk mengelola pemilihan"}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:t,onChange:d=>r(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"admin@example.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsx("input",{type:"password",value:n,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]}),i&&u.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:i}),u.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(fs,{className:"w-5 h-5 animate-spin"}),"Memproses..."]}):"Masuk"})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("button",{onClick:()=>e("/"),className:"text-sm text-blue-600 hover:text-blue-700",children:"Kembali ke Beranda"})})]})})})}function sx(){const{user:e,signOut:t,loading:r}=ia(),n=It(),[s,i]=w.useState("candidates"),[a,o]=w.useState([]),[l,c]=w.useState([]),[d,h]=w.useState([]),[f,v]=w.useState([]),[y,x]=w.useState(!1),[b,g]=w.useState([]),[p,m]=w.useState([]),[k,S]=w.useState(null),[j,E]=w.useState(""),[P,F]=w.useState(""),[L,A]=w.useState(""),[$,z]=w.useState(!1),[ie,G]=w.useState(!1),[Te,dt]=w.useState(""),[T,I]=w.useState(""),[U,J]=w.useState(""),[le,lr]=w.useState(""),[ht,Pr]=w.useState(""),[ft,xt]=w.useState(null),[de,aa]=w.useState(null);w.useEffect(()=>{if(!r){if(!e){n("/hidupJokowi/login");return}Qf()}},[e,r,s]);const Qf=async()=>{if(e)try{const{data:_,error:N}=await O.from("admin_users").select("*").eq("user_id",e.id).eq("is_active",!0).maybeSingle();if(N){console.error("Error checking admin status:",N),n("/");return}if(!_){alert("Anda tidak memiliki akses ke halaman admin"),n("/");return}He()}catch(_){console.error("Unexpected error checking admin access:",_),n("/")}};w.useEffect(()=>{s==="settings"&&oa()},[s]);const oa=async()=>{try{const _=await Rw();if(S(_),_)E(_.voting_name),F(js(_.start_time)),A(js(_.end_time)),z(_.is_active);else{const N=new Date,D=new Date(N.getTime()+24*60*60*1e3),K=new Date(N.getTime()+48*60*60*1e3);E("Pemilihan Ketua Serikat Pekerja"),F(js(D.toISOString())),A(js(K.toISOString())),z(!1)}}catch(_){console.error("Error loading voting settings:",_)}},js=_=>{const N=new Date(_),D=new Date(N.getTime()-N.getTimezoneOffset()*6e4),K=D.getFullYear(),Re=String(D.getMonth()+1).padStart(2,"0"),ae=String(D.getDate()).padStart(2,"0"),Ue=String(D.getHours()).padStart(2,"0"),Tr=String(D.getMinutes()).padStart(2,"0");return`${K}-${Re}-${ae}T${Ue}:${Tr}`},au=_=>new Date(_).toISOString(),Yf=async _=>{_.preventDefault(),x(!0);try{const N=new Date(P),D=new Date(L);if(N>=D){alert("Waktu berakhir harus lebih lambat dari waktu mulai"),x(!1);return}if(N<=new Date&&!confirm("Waktu mulai sudah lewat. Tetap simpan pengaturan ini?")){x(!1);return}const K={voting_name:j.trim()||"Pemilihan Ketua Serikat Pekerja",start_time:au(P),end_time:au(L),is_active:$};console.log("Saving settings with converted times:",K);const Re=await Tw(K);S(Re),await oa(),alert("Pengaturan voting berhasil diperbarui!")}catch(N){console.error("Error updating voting settings:",N),alert(`Gagal memperbarui pengaturan: ${N instanceof Error?N.message:"Unknown error"}`)}finally{x(!1)}},He=async()=>{if(console.log("Loading data for tab:",s),s==="candidates"){console.log("Loading candidates...");const{data:_,error:N}=await O.from("candidates").select("*").order("order_number");N?console.error("Error loading candidates:",N):(console.log("Candidates loaded:",_),o(_||[]))}else if(s==="employees"){console.log("Loading employees...");const{data:_,error:N}=await O.from("employees").select("*").order("created_at",{ascending:!1});N?console.error("Error loading employees:",N):(console.log("Employees loaded:",_),c(_||[]))}else if(s==="voter-registrations"){console.log("Loading voter registrations...");const{data:_,error:N}=await O.from("voter_registrations").select("*").order("registration_date",{ascending:!1});N?console.error("Error loading voter registrations:",N):(console.log("Voter registrations loaded:",_),v(_||[])),console.log("Loading employees for name lookup...");const{data:D,error:K}=await O.from("employees").select("*").order("created_at",{ascending:!1});K?console.error("Error loading employees:",K):(console.log("Employees loaded for name lookup:",D),c(D||[]))}else if(s==="votes"){console.log("Loading votes...");const{data:_,error:N}=await O.from("votes").select(`
          *,
          candidates (name)
        `).order("voted_at",{ascending:!1});N?console.error("Error loading votes:",N):(console.log("Votes loaded:",_),_&&h(_.map(D=>{var K;return{...D,candidate_name:((K=D.candidates)==null?void 0:K.name)||"Unknown"}})))}},Xf=async _=>{if(_.preventDefault(),x(!0),!Te.trim()){alert("Nama calon harus diisi"),x(!1);return}if(!U.trim()){alert("Nomor urut harus diisi"),x(!1);return}const N=parseInt(U);if(isNaN(N)){alert("Nomor urut harus berupa angka"),x(!1);return}try{console.log("=== ADDING CANDIDATE ==="),console.log("Current user:",e),console.log("User authenticated:",!!e),console.log("Testing database connection...");const{data:D,error:K}=await O.from("candidates").select("count").limit(1);if(K){console.error("Database connection test failed:",K),alert(`Koneksi database gagal: ${K.message}`),x(!1);return}console.log("Database connection OK, test data:",D);const Re={name:Te.trim(),description:T.trim()||null,order_number:N};console.log("Inserting candidate data:",Re);const{data:ae,error:Ue}=await O.from("candidates").insert(Re).select();if(console.log("Supabase response - data:",ae),console.log("Supabase response - error:",Ue),Ue){console.error("Supabase insert error details:",{message:Ue.message,code:Ue.code,details:Ue.details,hint:Ue.hint}),alert(`Gagal menambahkan calon: ${Ue.message}
Kode: ${Ue.code}`);return}console.log("Candidate added successfully!",ae),dt(""),I(""),J(""),G(!1),console.log("Reloading candidates...");const{data:Tr}=await O.from("candidates").select("*").order("order_number");Tr&&(console.log("Fresh candidates loaded:",Tr),o(Tr)),alert("Calon berhasil ditambahkan!")}catch(D){console.error("Unexpected error details:",{error:D,message:D instanceof Error?D.message:"Unknown error",stack:D instanceof Error?D.stack:void 0}),alert(`Terjadi kesalahan yang tidak terduga: ${D instanceof Error?D.message:"Unknown error"}`)}finally{x(!1)}},Zf=async _=>{confirm("Yakin ingin menghapus calon ini?")&&(await O.from("candidates").delete().eq("id",_),He())},em=async _=>{_.preventDefault(),x(!0);const N=le.split(`
`).map(ae=>ae.trim()).filter(ae=>ae.length>0),D=ht.split(`
`).map(ae=>ae.trim()).filter(ae=>ae.length>0);if(N.length!==D.length){alert(`Jumlah NIP (${N.length}) dan nama (${D.length}) harus sama`),x(!1);return}const K=N.map((ae,Ue)=>({employee_id:ae,employee_name:D[Ue]||null,has_voted:!1})),{error:Re}=await O.from("employees").upsert(K,{onConflict:"employee_id"});Re?alert("Gagal mengimpor pegawai"):(lr(""),Pr(""),He(),alert(`Berhasil menambahkan ${N.length} pegawai`)),x(!1)},tm=async _=>{if(confirm("Yakin ingin menghapus employee ini beserta semua data terkait (votes, voter profile, registrasi)?")){x(!0);try{const N=await Aw(_);N.success?(alert(N.message||"Employee berhasil dihapus"),s==="employees"&&He()):alert(`Gagal menghapus employee: ${N.error}`)}catch(N){console.error("Error deleting employee:",N),alert(`Terjadi kesalahan: ${N.message}`)}finally{x(!1)}}},rm=async _=>{if(confirm("Apakah Anda yakin ingin menyetujui voter ini?"))try{const{error:N}=await O.rpc("approve_voter_registration",{registration_id:_,approver_id:e==null?void 0:e.id});if(N)throw N;alert("Voter berhasil disetujui!"),He()}catch(N){console.error("Error approving voter:",N),alert(`Gagal menyetujui voter: ${N.message}`)}},nm=async _=>{if(confirm("Apakah Anda yakin ingin menolak voter ini?"))try{const{error:N}=await O.from("voter_registrations").delete().eq("id",_);if(N)throw N;alert("Registrasi voter berhasil ditolak!"),He()}catch(N){console.error("Error rejecting voter:",N),alert(`Gagal menolak voter: ${N.message}`)}},sm=async _=>{try{const{data:N,error:D}=await O.from("employees").select("*").eq("employee_id",_).single(),{data:K,error:Re}=await O.from("voter_profiles").select("*").eq("employee_id",_).single(),{data:ae,error:Ue}=await O.from("voter_registrations").select("*").eq("employee_id",_).single();if(D){alert("Data voter tidak ditemukan");return}aa({employee:N||null,voterProfile:K||null,registration:ae||null})}catch(N){console.error("Error fetching voter detail:",N),alert("Gagal memuat detail voter")}},im=(_,N)=>{N.target.checked?g(D=>[...D,_]):g(D=>D.filter(K=>K!==_))},am=_=>{_.target.checked?g(d.map(N=>N.employee_id)):g([])},om=async _=>{if(confirm("Yakin ingin menghapus vote ini dan mereset status voting user?")){x(!0);try{const N=await Lw(_);N.success?(alert(N.message||"Vote berhasil dihapus dan status voting direset"),s==="votes"&&He(),s==="employees"&&He(),g(D=>D.filter(K=>K!==_))):alert(`Gagal menghapus vote: ${N.error}`)}catch(N){console.error("Error deleting single vote:",N),alert(`Terjadi kesalahan: ${N.message}`)}finally{x(!1)}}},lm=async()=>{if(b.length===0){alert("Tidak ada vote yang dipilih");return}if(confirm(`Yakin ingin menghapus ${b.length} vote dan mereset status voting semua user yang dipilih?`)){x(!0);try{const _=await Iw(b);_.success?(alert(_.message||`${_.successCount} vote berhasil dihapus`),s==="votes"&&He(),s==="employees"&&He(),g([])):alert(`Gagal bulk delete votes: ${_.error}`)}catch(_){console.error("Error bulk deleting votes:",_),alert(`Terjadi kesalahan: ${_.message}`)}finally{x(!1)}}},um=async _=>{if(confirm("Yakin ingin mereset status voting user ini? (User akan bisa voting lagi)")){x(!0);try{const{error:N}=await O.from("employees").update({has_voted:!1}).eq("employee_id",_);if(N)throw N;alert("Status voting berhasil direset"),He()}catch(N){console.error("Error resetting voting status:",N),alert(`Gagal mereset status voting: ${N.message}`)}finally{x(!1)}}},cm=(_,N)=>{N.target.checked?m(D=>[...D,_]):m(D=>D.filter(K=>K!==_))},dm=_=>{_.target.checked?m(l.map(N=>N.employee_id)):m([])},hm=async()=>{if(p.length===0){alert("Tidak ada employee yang dipilih");return}if(confirm(`Yakin ingin mereset status voting ${p.length} user yang dipilih? (User akan bisa voting lagi)`)){x(!0);try{const _=[];let N=0,D=0;for(const Re of p)try{const{error:ae}=await O.from("employees").update({has_voted:!1}).eq("employee_id",Re);if(ae)throw ae;N++,_.push({employeeId:Re,success:!0})}catch(ae){console.error(`Error resetting status for employee ${Re}:`,ae),D++,_.push({employeeId:Re,success:!1,error:ae.message})}const K=`Berhasil mereset status ${N} user, ${D} error`;alert(K),He(),m([])}catch(_){console.error("Error in bulk reset voting status:",_),alert(`Terjadi kesalahan: ${_.message}`)}finally{x(!1)}}},fm=_=>{const N=l.find(D=>D.employee_id===_);return(N==null?void 0:N.employee_name)||"Nama tidak ditemukan"};return e?u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx("nav",{className:"bg-white shadow-sm border-b",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center py-4",children:[u.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),u.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[u.jsx("span",{className:"hidden sm:inline text-sm text-gray-600",children:e.email}),u.jsxs("button",{onClick:()=>t(),className:"flex items-center gap-1 sm:gap-2 text-red-600 hover:text-red-700 font-medium p-2 rounded-lg hover:bg-red-50",children:[u.jsx(Kw,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Keluar"})]})]})]})})}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[u.jsx("div",{className:"border-b",children:u.jsxs("nav",{className:"flex overflow-x-auto scrollbar-hide",children:[u.jsxs("button",{onClick:()=>i("candidates"),className:`flex-shrink-0 px-3 sm:px-6 py-4 font-medium border-b-2 transition-colors text-sm sm:text-base ${s==="candidates"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[u.jsx("span",{className:"hidden sm:inline",children:"Kelola "}),"Calon"]}),u.jsxs("button",{onClick:()=>i("employees"),className:`flex-shrink-0 px-3 sm:px-6 py-4 font-medium border-b-2 transition-colors text-sm sm:text-base ${s==="employees"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[u.jsx("span",{className:"hidden sm:inline",children:"Kelola "}),"Pegawai"]}),u.jsxs("button",{onClick:()=>i("voter-registrations"),className:`flex-shrink-0 px-3 sm:px-6 py-4 font-medium border-b-2 transition-colors text-sm sm:text-base ${s==="voter-registrations"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[u.jsx("span",{className:"hidden sm:inline",children:"Approval "}),"Voter"]}),u.jsxs("button",{onClick:()=>i("votes"),className:`flex-shrink-0 px-3 sm:px-6 py-4 font-medium border-b-2 transition-colors text-sm sm:text-base ${s==="votes"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[u.jsx("span",{className:"hidden sm:inline",children:"Detail "}),"Voting"]}),u.jsxs("button",{onClick:()=>i("settings"),className:`flex-shrink-0 px-3 sm:px-6 py-4 font-medium border-b-2 transition-colors flex items-center gap-1 sm:gap-2 text-sm sm:text-base ${s==="settings"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[u.jsx(Fc,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Pengaturan "}),"Voting"]})]})}),u.jsxs("div",{className:"p-6",children:[s==="candidates"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daftar Calon"}),u.jsxs("button",{onClick:()=>G(!ie),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[u.jsx(Gw,{className:"w-4 h-4"}),"Tambah Calon"]})]}),ie&&u.jsxs("form",{onSubmit:Xf,className:"bg-gray-50 p-4 rounded-lg mb-6",children:[u.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[u.jsx("input",{type:"text",value:Te,onChange:_=>dt(_.target.value),placeholder:"Nama Calon",className:"px-4 py-2 border rounded-lg",required:!0}),u.jsx("input",{type:"number",value:U,onChange:_=>J(_.target.value),placeholder:"Nomor Urut",className:"px-4 py-2 border rounded-lg",required:!0})]}),u.jsx("textarea",{value:T,onChange:_=>I(_.target.value),placeholder:"Visi & Misi (opsional)",className:"w-full px-4 py-2 border rounded-lg mb-4",rows:3}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:y?"Menyimpan...":"Simpan"}),u.jsx("button",{type:"button",onClick:()=>G(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg",children:"Batal"})]})]}),u.jsx("div",{className:"space-y-3",children:a.map(_=>u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center font-bold text-blue-600",children:_.order_number}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-semibold text-gray-900",children:_.name}),_.description&&u.jsx("p",{className:"text-sm text-gray-600 line-clamp-1",children:_.description})]})]}),u.jsx("button",{onClick:()=>Zf(_.id),className:"text-red-600 hover:text-red-700 p-2",children:u.jsx(zc,{className:"w-5 h-5"})})]},_.id))})]}),s==="employees"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Daftar Pegawai"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(tl,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-medium",children:[l.length," pegawai"]})]}),p.length>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-600",children:[p.length," dipilih"]}),u.jsxs("button",{onClick:hm,className:"flex items-center gap-1 bg-orange-600 hover:bg-orange-700 text-white px-3 py-1 rounded-lg text-sm transition-colors",disabled:y,children:[u.jsx(Wa,{className:"w-4 h-4"}),"Reset Status ",p.length," User"]})]})]})]}),u.jsxs("form",{onSubmit:em,className:"bg-gray-50 p-4 rounded-lg mb-6",children:[u.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Induk Pegawai (satu per baris)"}),u.jsx("textarea",{value:le,onChange:_=>lr(_.target.value),placeholder:`123456
234567
345678`,className:"w-full px-4 py-2 border rounded-lg",rows:6})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Pegawai (satu per baris, sesuaikan dengan NIP)"}),u.jsx("textarea",{value:ht,onChange:_=>Pr(_.target.value),placeholder:`Budi Santoso
Siti Aminah
Ahmad Rizki`,className:"w-full px-4 py-2 border rounded-lg",rows:6})]})]}),u.jsxs("button",{type:"submit",disabled:y,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50",children:[u.jsx(Qw,{className:"w-4 h-4"}),y?"Mengimpor...":"Import Pegawai"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsx("input",{type:"checkbox",checked:p.length===l.length&&l.length>0,onChange:_=>dm(_),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"NIP"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Nama"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Status Voting"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:l.map(_=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"checkbox",checked:p.includes(_.employee_id),onChange:N=>cm(_.employee_id,N),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),u.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:_.employee_id}),u.jsx("td",{className:"px-4 py-3 text-sm",children:_.employee_name||"Belum diisi"}),u.jsx("td",{className:"px-4 py-3",children:_.has_voted?u.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full",children:"Sudah Voting"}):u.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:"Belum Voting"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[_.has_voted&&u.jsx("button",{onClick:()=>um(_.employee_id),className:"text-orange-600 hover:text-orange-700 p-1 rounded transition-colors",title:"Reset status voting user",children:u.jsx(Wa,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>tm(_.employee_id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Hapus employee dan data terkait",children:u.jsx(zc,{className:"w-4 h-4"})})]})})]},_.id))})]})})]}),s==="voter-registrations"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Persetujuan Registrasi Voter"}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(Bc,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-medium",children:[f.filter(_=>!_.is_approved&&_.user_id).length," menunggu persetujuan, ",f.filter(_=>!_.user_id).length," menunggu verifikasi"]})]})]}),u.jsx("div",{className:"space-y-4",children:f.map(_=>u.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[u.jsx("span",{className:"font-mono font-medium text-gray-900",children:_.employee_id}),u.jsx("span",{className:"text-sm text-gray-600",children:_.email}),_.is_approved?u.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-1 rounded-full",children:"Disetujui"}):_.user_id?u.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-1 rounded-full",children:"Menunggu Persetujuan"}):u.jsx("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:"Menunggu Verifikasi Email"})]}),u.jsxs("div",{className:"text-sm text-gray-900 mb-2",children:[u.jsx("span",{className:"text-gray-600",children:"Nama: "}),u.jsx("span",{className:"font-medium",children:fm(_.employee_id)})]}),u.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Terdaftar: ",new Date(_.registration_date).toLocaleString("id-ID")]}),_.face_photo_url&&u.jsx("div",{className:"mb-2",children:u.jsxs("button",{onClick:()=>{xt(_.face_photo_url)},className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm disabled:text-gray-400",disabled:!_.face_photo_url,children:[u.jsx(qw,{className:"w-4 h-4"}),"Lihat Foto Wajah"]})}),_.approved_at&&u.jsxs("div",{className:"text-sm text-green-600",children:["Disetujui: ",new Date(_.approved_at).toLocaleString("id-ID")]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[!_.is_approved&&_.user_id&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>rm(_.id),className:"flex items-center gap-1 bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:[u.jsx(Wa,{className:"w-4 h-4"}),"Setujui"]}),u.jsxs("button",{onClick:()=>nm(_.id),className:"flex items-center gap-1 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:[u.jsx(Zw,{className:"w-4 h-4"}),"Tolak"]})]}),!_.is_approved&&!_.user_id&&u.jsx("span",{className:"text-sm text-gray-500 italic",children:"Menunggu verifikasi email user"})]})]})},_.id))}),f.length===0&&u.jsxs("div",{className:"text-center py-8 text-gray-500",children:[u.jsx(Bc,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),u.jsx("p",{children:"Belum ada registrasi voter"})]})]}),s==="votes"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Detail Voting"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(tl,{className:"w-5 h-5"}),u.jsxs("span",{className:"font-medium",children:[d.length," suara"]})]}),b.length>0&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-600",children:[b.length," dipilih"]}),u.jsxs("button",{onClick:lm,className:"flex items-center gap-1 bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-lg text-sm transition-colors",disabled:y,children:[u.jsx(Wc,{className:"w-4 h-4"}),"Hapus ",b.length," Vote"]})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-gray-50 border-b",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left",children:u.jsx("input",{type:"checkbox",checked:b.length===d.length&&d.length>0,onChange:_=>am(_),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"NIP"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Calon Dipilih"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Waktu"}),u.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Aksi"})]})}),u.jsx("tbody",{className:"divide-y",children:d.map(_=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-3",children:u.jsx("input",{type:"checkbox",checked:b.includes(_.employee_id),onChange:N=>im(_.employee_id,N),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),u.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:u.jsx("button",{onClick:()=>sm(_.employee_id),className:"text-blue-600 hover:text-blue-700 hover:underline cursor-pointer",children:_.employee_id})}),u.jsx("td",{className:"px-4 py-3 font-medium",children:_.candidate_name}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(_.voted_at).toLocaleString("id-ID")}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("button",{onClick:()=>om(_.employee_id),className:"text-red-600 hover:text-red-700 p-1 rounded transition-colors",title:"Hapus vote dan reset status voting",children:u.jsx(Wc,{className:"w-4 h-4"})})})]},_.id))})]})})]}),s==="settings"&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-2",children:[u.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:"Pengaturan Jadwal Voting"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Zo,{className:"w-5 h-5 text-gray-500"}),u.jsx("span",{className:"text-sm text-gray-600",children:"Kelola jadwal voting"})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pengaturan Jadwal"}),u.jsxs("form",{onSubmit:Yf,className:"space-y-4 sm:space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Voting"}),u.jsx("input",{type:"text",value:j,onChange:_=>E(_.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Masukkan nama voting"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waktu Mulai Voting"}),u.jsx("input",{type:"datetime-local",value:P,onChange:_=>F(_.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Waktu Berakhir Voting"}),u.jsx("input",{type:"datetime-local",value:L,onChange:_=>A(_.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",required:!0})]})]}),u.jsxs("div",{className:"flex items-start",children:[u.jsx("input",{type:"checkbox",id:"isActive",checked:$,onChange:_=>z(_.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-0.5"}),u.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Aktifkan voting (centang untuk mengizinkan voting sesuai jadwal)"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsxs("button",{type:"submit",disabled:y,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-sm sm:text-base",children:[u.jsx(Fc,{className:"w-4 h-4"}),y?"Menyimpan...":"Simpan Pengaturan"]}),u.jsx("button",{type:"button",onClick:()=>oa(),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded-lg transition-colors text-sm sm:text-base",children:"Reset"})]})]}),u.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Catatan Penting:"}),u.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[u.jsx("li",{children:" Voting hanya dapat dilakukan jika dicentang dan dalam rentang waktu yang ditentukan"}),u.jsx("li",{children:" Waktu voting menggunakan timezone server (UTC)"}),u.jsx("li",{children:" Pastikan waktu mulai lebih awal dari waktu berakhir"}),u.jsx("li",{children:" Perubahan pengaturan akan berlaku langsung"})]})]})]})]})]})]})}),ft&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>xt(null),children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-2xl w-full",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Foto Wajah Voter"}),u.jsx("button",{onClick:()=>xt(null),className:"text-gray-500 hover:text-gray-700 p-1",children:""})]}),u.jsx("img",{src:ft,alt:"Foto Wajah Voter",className:"w-full rounded-lg",onError:_=>{const N=_.target;N.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkZvdG8gdGlkYWsgZGl0ZW11a2FuPC90ZXh0Pjwvc3ZnPg=="}})]})}),de&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>aa(null),children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold",children:"Detail Identitas Voter"}),u.jsx("button",{onClick:()=>aa(null),className:"text-gray-500 hover:text-gray-700 p-1 text-xl",children:""})]}),u.jsxs("div",{className:"space-y-6",children:[de.employee&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Data Pegawai"}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"NIP:"}),u.jsx("span",{className:"font-mono font-medium",children:de.employee.employee_id})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Nama:"}),u.jsx("span",{className:"font-medium",children:de.employee.employee_name||"Belum diisi"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Status Voting:"}),u.jsx("span",{className:`font-medium ${de.employee.has_voted?"text-green-600":"text-gray-600"}`,children:de.employee.has_voted?"Sudah Voting":"Belum Voting"})]})]})]}),de.voterProfile&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Profil Voter"}),u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Email:"}),u.jsx("span",{className:"font-medium",children:de.voterProfile.email})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Status Akun:"}),u.jsx("span",{className:`font-medium ${de.voterProfile.is_active?"text-green-600":"text-red-600"}`,children:de.voterProfile.is_active?"Aktif":"Nonaktif"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Dibuat:"}),u.jsx("span",{className:"font-medium",children:new Date(de.voterProfile.created_at).toLocaleString("id-ID")})]})]})]}),de.registration&&u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Data Registrasi"}),u.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4 space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Status Persetujuan:"}),u.jsx("span",{className:`font-medium ${de.registration.is_approved?"text-green-600":"text-orange-600"}`,children:de.registration.is_approved?"Disetujui":"Belum Disetujui"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Tanggal Registrasi:"}),u.jsx("span",{className:"font-medium",children:new Date(de.registration.registration_date).toLocaleString("id-ID")})]}),de.registration.face_photo_url&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Foto Wajah:"}),u.jsx("button",{onClick:()=>xt(de.registration.face_photo_url),className:"text-blue-600 hover:text-blue-700 underline",children:"Lihat Foto"})]}),de.registration.approved_at&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:"Disetujui Pada:"}),u.jsx("span",{className:"font-medium text-green-600",children:new Date(de.registration.approved_at).toLocaleString("id-ID")})]})]})]})]})]})})]}):null}const ix=()=>{try{const e="https://nrvowwcotjqmbohpucrp.supabase.co";if(e){const n=new URL(e).hostname.split(".")[0];localStorage.removeItem(`sb-${n}-auth-token`),localStorage.removeItem(`sb-${n}-refresh-token`)}const t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);n&&(n.includes("supabase")||n.includes("sb-")||n.includes("auth"))&&t.push(n)}t.forEach(r=>localStorage.removeItem(r)),console.log("Supabase session cleared from localStorage")}catch(e){console.warn("Error clearing localStorage:",e)}};function ax(){const e=It(),[t,r]=w.useState({employeeId:"",email:"",password:"",facePhoto:null}),[n,s]=w.useState(!1),[i,a]=w.useState(""),[o,l]=w.useState(""),[c,d]=w.useState(!1),[h,f]=w.useState("form"),[v,y]=w.useState(null),x=w.useRef(null),b=w.useRef(null),[g,p]=w.useState(null),m=(A,$)=>{r(z=>({...z,[A]:$})),a("")},k=async A=>{try{const{data:$,error:z}=await O.from("employees").select("employee_id").eq("employee_id",A).single();if(z||!$)return console.error("Employee not found:",z),{isValid:!1,message:"NIP tidak ditemukan di database employee. Silakan periksa NIP Anda."};const{data:ie,error:G}=await O.from("voter_registrations").select("email, is_approved").eq("employee_id",A).maybeSingle();return G&&console.warn("Error checking existing registration:",G),ie?ie.is_approved?{isValid:!1,message:`NIP ini sudah digunakan untuk registrasi dengan email ${ie.email} dan sudah disetujui. Silakan gunakan NIP lain.`}:{isValid:!1,message:"NIP ini sedang dalam proses registrasi dan menunggu persetujuan. Silakan tunggu atau gunakan NIP lain."}:{isValid:!0,message:"NIP tersedia untuk registrasi"}}catch($){return console.error("Error in validateEmployeeId:",$),{isValid:!1,message:"Terjadi kesalahan saat validasi NIP. Silakan coba lagi."}}},S=async A=>{try{const{data:$,error:z}=await O.from("voter_profiles").select("email").eq("email",A).eq("is_active",!0).single();if(z&&z.code!=="PGRST116")return console.error("Error checking voter profile email:",z),!0;if($)return!0;const{data:ie,error:G}=await O.from("voter_registrations").select("email").eq("email",A).eq("is_approved",!0).single();return G&&G.code!=="PGRST116"?(console.error("Error checking approved registration email:",G),!0):!!ie}catch($){return console.error("Error in checkEmailExists:",$),!0}},j=async A=>{A.preventDefault(),s(!0),a("");try{const $=await k(t.employeeId.trim());if(!$.isValid){a($.message),s(!1);return}if(await S(t.email.trim())){a("Email sudah terdaftar dalam sistem registrasi"),s(!1);return}f("photo"),s(!1)}catch($){console.error("Error in form validation:",$),a("Terjadi kesalahan saat validasi data. Silakan coba lagi."),s(!1)}},E=async()=>{try{const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"}});p(A),x.current&&(x.current.srcObject=A)}catch{a("Tidak dapat mengakses kamera")}},P=()=>{if(x.current&&b.current){const A=b.current.getContext("2d");if(A){const ie=x.current.videoWidth,G=x.current.videoHeight;let Te=480,dt=640;ie>G?dt=G*480/ie:Te=ie*640/G,b.current.width=Te,b.current.height=dt,A.drawImage(x.current,0,0,Te,dt);const T=b.current.toDataURL("image/jpeg",.5);y(T),b.current.toBlob(I=>{if(I){const U=new File([I],"face-photo.jpg",{type:"image/jpeg"});r(J=>({...J,facePhoto:U}))}},"image/jpeg",.5),g&&g.getTracks().forEach(I=>I.stop())}}},F=()=>{y(null),r(A=>({...A,facePhoto:null})),E()};w.useEffect(()=>(h==="photo"&&!v&&E(),()=>{g&&g.getTracks().forEach(A=>A.stop())}),[h]);const L=async()=>{if(!t.facePhoto){a("Silakan upload atau ambil foto wajah Anda");return}s(!0),a("");try{const A=await k(t.employeeId.trim());if(!A.isValid){a(A.message),s(!1);return}const{data:$,error:z}=await O.from("voter_registrations").insert({employee_id:t.employeeId.trim(),email:t.email.trim(),face_photo_url:null}).select().single();if(z){if(z.code==="23505"){a("NIP ini sudah digunakan untuk registrasi voter. Silakan gunakan NIP lain."),s(!1);return}throw new Error(`Gagal menyimpan registrasi: ${z.message}`)}const ie=`${window.location.origin}/voter/verify`,{data:G,error:Te}=await O.auth.signUp({email:t.email.trim(),password:t.password,options:{emailRedirectTo:ie,data:{employee_id:t.employeeId.trim(),role:"voter",registration_id:$.id}}});if(Te)throw new Error(`Gagal membuat akun: ${Te.message}`);v&&await O.from("voter_registrations").update({face_photo_url:v}).eq("id",$.id),f("verification"),l("Registrasi berhasil! Silakan cek email Anda untuk verifikasi akun."),ix()}catch(A){console.error("Error in registration:",A),A.code==="23505"?a("NIP atau email sudah digunakan. Silakan gunakan data lain."):a(A.message||"Terjadi kesalahan saat registrasi. Silakan coba lagi."),s(!1)}};return h==="verification"?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(el,{className:"w-8 h-8 text-green-600"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registrasi Berhasil!"}),u.jsxs("p",{className:"text-gray-600 mb-6",children:["Kami telah mengirim email verifikasi ke ",u.jsx("strong",{children:t.email}),". Silakan cek inbox Anda dan klik link verifikasi untuk mengaktifkan akun."]}),u.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Setelah email terverifikasi, akun Anda akan menunggu persetujuan admin untuk bisa voting."}),u.jsx("div",{className:"space-y-3",children:u.jsx("button",{onClick:()=>e("/"),className:"w-full bg-green-600 text-white font-medium py-3 rounded-lg hover:bg-green-700 transition-colors",children:"Kembali ke Beranda"})})]})})}):h==="photo"?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx(Mc,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ambil Foto Wajah"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Foto wajah diperlukan untuk validasi identitas voter"})]}),i&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:u.jsx("p",{className:"text-red-600 text-sm",children:i})}),u.jsx("div",{className:"bg-gray-900 rounded-xl overflow-hidden mb-4 sm:mb-6",children:v?u.jsx("img",{src:v,alt:"Foto wajah",className:"w-full aspect-[3/4] object-cover"}):u.jsx("video",{ref:x,autoPlay:!0,playsInline:!0,className:"w-full aspect-[3/4] object-cover"})}),u.jsx("canvas",{ref:b,className:"hidden"}),u.jsx("div",{className:"flex flex-col gap-3",children:v?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:F,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 font-medium py-3 rounded-lg transition-colors",children:"Ulangi Foto"}),u.jsx("button",{onClick:L,disabled:n,className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50",children:n?"Memproses...":"Daftar Voter"})]}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>f("form"),className:"flex-1 bg-gray-200 text-gray-700 font-medium py-3 rounded-lg hover:bg-gray-300 transition-colors",children:"Kembali"}),u.jsxs("button",{onClick:P,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition-colors flex items-center justify-center gap-2",children:[u.jsx(Mc,{className:"w-4 h-4"}),"Ambil Foto"]})]})})]})})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-blue-800 flex items-center justify-center px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx(Gf,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),u.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Registrasi Voter"}),u.jsx("p",{className:"text-gray-600 text-sm",children:"Daftar sebagai voter untuk pemilihan ketua serikat pekerja"})]}),i&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 mb-4",children:u.jsx("p",{className:"text-red-600 text-sm",children:i})}),u.jsxs("form",{onSubmit:j,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Induk Pegawai (NIP)"}),u.jsxs("div",{className:"relative",children:[u.jsx(Yw,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",value:t.employeeId,onChange:A=>m("employeeId",A.target.value),placeholder:"Masukkan NIP Anda",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(el,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"email",value:t.email,onChange:A=>m("email",A.target.value),placeholder:"nama@email.com",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Li,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),u.jsx("input",{type:c?"text":"password",value:t.password,onChange:A=>m("password",A.target.value),placeholder:"Buat password yang kuat",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,minLength:6}),u.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:c?u.jsx(Vw,{className:"h-5 w-5"}):u.jsx(Ww,{className:"h-5 w-5"})})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal 6 karakter"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx(xr,{to:"/",className:"flex-1 bg-gray-200 text-gray-700 font-medium py-3 rounded-lg hover:bg-gray-300 transition-colors text-center",children:"Kembali"}),u.jsx("button",{type:"submit",disabled:n||!t.employeeId||!t.email||!t.password,className:"flex-1 bg-blue-600 text-white font-medium py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed",children:n?"Validasi...":"Lanjut Upload Foto"})]})]}),u.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[u.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Persyaratan Registrasi:"}),u.jsxs("ul",{className:"text-xs text-blue-800 space-y-1",children:[u.jsx("li",{children:" NIP harus terdaftar di database perusahaan"}),u.jsx("li",{children:" Email belum pernah digunakan untuk registrasi voter"}),u.jsx("li",{children:" Foto wajah diperlukan untuk validasi identitas"}),u.jsx("li",{children:" Akun akan aktif setelah approval admin"})]})]})]})})})}function ox(){const e=It(),[t]=bf(),[r,n]=w.useState("loading"),[s,i]=w.useState("");return w.useEffect(()=>{(async()=>{var o;try{const{data:{session:l},error:c}=await O.auth.getSession();if(c){console.error("Error getting session:",c),n("error"),i("Gagal mendapatkan session: "+c.message);return}if(l!=null&&l.user){console.log("Email verified successfully for user:",l.user.id);const d=(o=l.user.user_metadata)==null?void 0:o.registration_id;if(d)try{const{error:f}=await O.from("voter_registrations").update({user_id:l.user.id}).eq("id",d);f?f.message.includes("user_id")?console.log("user_id column does not exist in voter_registrations, skipping update"):console.warn("Could not update voter_registrations with user_id:",f):console.log("Registration updated with user_id")}catch(f){console.warn("Error updating voter_registrations user_id:",f)}else console.warn("No registration_id found in user metadata");const{error:h}=await O.auth.signOut();h?console.error("Error signing out:",h):console.log("User signed out after verification"),n("success"),i("Email berhasil diverifikasi! Akun Anda sekarang menunggu persetujuan admin.")}else n("error"),i("Session tidak ditemukan. Silakan coba registrasi ulang.")}catch(l){console.error("Error in email verification:",l),n("error"),i("Terjadi kesalahan saat memverifikasi email: "+l.message)}})()},[t,e]),u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-600 to-green-800 flex items-center justify-center px-4",children:u.jsx("div",{className:"max-w-md w-full",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center",children:[r==="loading"&&u.jsxs(u.Fragment,{children:[u.jsx(fs,{className:"w-16 h-16 text-green-600 mx-auto mb-4 animate-spin"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Memverifikasi Email..."}),u.jsx("p",{className:"text-gray-600",children:"Mohon tunggu sedang memverifikasi email Anda."})]}),r==="success"&&u.jsxs(u.Fragment,{children:[u.jsx(hs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Terverifikasi!"}),u.jsx("p",{className:"text-gray-600 mb-6",children:s}),u.jsx("div",{className:"space-y-3",children:u.jsx("button",{onClick:()=>e("/"),className:"w-full bg-gray-200 text-gray-700 font-medium py-3 rounded-lg hover:bg-gray-300 transition-colors",children:"Kembali ke Beranda"})})]}),r==="error"&&u.jsxs(u.Fragment,{children:[u.jsx(ds,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verifikasi Gagal"}),u.jsx("p",{className:"text-gray-600 mb-6",children:s}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:()=>e("/register"),className:"w-full bg-blue-600 text-white font-medium py-3 rounded-lg hover:bg-blue-700 transition-colors",children:"Registrasi Ulang"}),u.jsx("button",{onClick:()=>e("/"),className:"w-full bg-gray-200 text-gray-700 font-medium py-3 rounded-lg hover:bg-gray-300 transition-colors",children:"Kembali ke Beranda"})]})]})]})})})}function qc(){const e=It(),{resetPassword:t,updatePassword:r}=ia(),[n]=bf(),[s,i]=w.useState("request"),[a,o]=w.useState(!1),[l,c]=w.useState(""),[d,h]=w.useState(""),[f,v]=w.useState(""),[y,x]=w.useState(""),[b,g]=w.useState("");w.useEffect(()=>{let k=n.get("token"),S=n.get("type");const j=window.location.hash;if(j&&j.startsWith("#")){const E=new URLSearchParams(j.substring(1)),P=E.get("error"),F=E.get("error_code"),L=E.get("error_description");if(console.log("URL Hash Analysis:",j),P&&F==="otp_expired"){console.log(" OTP expired error detected:",L),c("Link reset password sudah expired atau sudah digunakan. Silakan request link baru."),window.history.replaceState({},"","/reset-password");return}k||(k=E.get("access_token"),k||(k=E.get("token")),S=E.get("type"),console.log("Parsed from hash:",{token:k?"exists":"none",type:S,isAccessToken:!!E.get("access_token")}))}console.log("URL Parameters Analysis:",{queryToken:n.get("token")?"exists":"none",queryType:n.get("type"),hashToken:k?"exists":"none",hashType:S,fullUrl:window.location.href,fullHash:window.location.hash,allSearchParams:Object.fromEntries(n.entries())}),k&&S==="recovery"?(console.log(" Valid recovery token found, switching to confirm step"),i("confirm")):console.log(" No valid token found, staying on request step")},[n]);const p=async k=>{k.preventDefault(),c(""),o(!0);try{const{error:S}=await t(f.trim().toLowerCase());if(S){c(`Gagal mengirim email reset: ${S.message}`),o(!1);return}h("Email reset password telah dikirim! Silakan cek inbox dan folder spam Anda."),v("")}catch(S){console.error("Reset password error:",S),c("Terjadi kesalahan saat mengirim email reset"),o(!1)}},m=async k=>{if(k.preventDefault(),c(""),o(!0),y!==b){c("Password dan konfirmasi password tidak sama"),o(!1);return}if(y.length<6){c("Password minimal 6 karakter"),o(!1);return}try{const{error:S}=await r(y);if(S){c(`Gagal update password: ${S.message}`),o(!1);return}h("Password berhasil diupdate! Anda akan diarahkan ke halaman voting."),setTimeout(()=>{e("/vote")},2e3)}catch(S){console.error("Update password error:",S),c("Terjadi kesalahan saat update password"),o(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 py-12 px-4",children:u.jsx("div",{className:"max-w-md mx-auto",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sm:p-8",children:[u.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[u.jsxs("button",{onClick:()=>e("/vote"),className:"inline-flex items-center text-blue-600 hover:text-blue-700 mb-4 text-sm",children:[u.jsx(Fw,{className:"w-4 h-4 mr-1"}),"Kembali ke Voting"]}),u.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:s==="request"?"Reset Password":"Set Password Baru"}),u.jsx("p",{className:"text-gray-600 text-sm",children:s==="request"?"Masukkan email Anda untuk menerima link reset password":"Masukkan password baru untuk akun Anda"})]}),d&&u.jsxs("div",{className:"bg-green-50 text-green-600 p-3 rounded-lg text-sm mb-4 flex items-center",children:[u.jsx(hs,{className:"w-4 h-4 mr-2 flex-shrink-0"}),d]}),l&&u.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm mb-4 flex items-center",children:[u.jsx(ds,{className:"w-4 h-4 mr-2 flex-shrink-0"}),l]}),s==="request"&&u.jsxs("form",{onSubmit:p,className:"space-y-4 sm:space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsxs("div",{className:"relative",children:[u.jsx(el,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"email",value:f,onChange:k=>v(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Masukkan email Anda",required:!0})]})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 text-sm sm:text-base flex items-center justify-center",children:a?u.jsxs(u.Fragment,{children:[u.jsx(fs,{className:"w-4 h-4 mr-2 animate-spin"}),"Mengirim Email..."]}):"Kirim Link Reset"})]}),s==="confirm"&&u.jsxs("form",{onSubmit:m,className:"space-y-4 sm:space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Baru"}),u.jsxs("div",{className:"relative",children:[u.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"password",value:y,onChange:k=>x(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Masukkan password baru",required:!0,minLength:6})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konfirmasi Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),u.jsx("input",{type:"password",value:b,onChange:k=>g(k.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base",placeholder:"Konfirmasi password baru",required:!0,minLength:6})]})]}),u.jsx("button",{type:"submit",disabled:a,className:"w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 rounded-lg transition-colors disabled:opacity-50 text-sm sm:text-base flex items-center justify-center",children:a?u.jsxs(u.Fragment,{children:[u.jsx(fs,{className:"w-4 h-4 mr-2 animate-spin"}),"Menyimpan Password..."]}):"Simpan Password Baru"})]}),u.jsx("div",{className:"mt-6 text-center text-xs text-gray-500",children:s==="request"?u.jsxs("p",{children:["Tidak menerima email? Cek folder spam atau"," ",u.jsx("button",{onClick:()=>window.location.reload(),className:"text-blue-600 hover:text-blue-700 underline",children:"coba lagi"})]}):u.jsx("p",{children:"Password akan disimpan dan Anda akan diarahkan ke halaman voting"})})]})})})}function lx(){return u.jsx(Dw,{children:u.jsx(rv,{children:u.jsxs(O0,{children:[u.jsx(tt,{path:"/",element:u.jsx(Hc,{})}),u.jsx(tt,{path:"/register",element:u.jsx(ax,{})}),u.jsx(tt,{path:"/voter/verify",element:u.jsx(ox,{})}),u.jsx(tt,{path:"/vote",element:u.jsx(tx,{})}),u.jsx(tt,{path:"/results",element:u.jsx(rx,{})}),u.jsx(tt,{path:"/reset-password",element:u.jsx(qc,{})}),u.jsx(tt,{path:"/reset-password/confirm",element:u.jsx(qc,{})}),u.jsx(tt,{path:"/hidupJokowi/login",element:u.jsx(nx,{})}),u.jsx(tt,{path:"/hidupJokowi",element:u.jsx(sx,{})}),u.jsx(tt,{path:"*",element:u.jsx(Hc,{})})]})})})}af(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(lx,{})}));
